<!DOCTYPE html>
<html class="no-js" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Complete documentation for Vulcan - complete stack for building data products" name="description"/>
<meta content="DataOS Vulcan Team" name="author"/>
<link href="https://tmdc-io.github.io/vulcan-docs/components/checks/checks/" rel="canonical"/>
<link href="../../audits/audits/" rel="prev"/>
<link href="../../semantics/overview/" rel="next"/>
<link href="../../../assets/images/D_logo_dark-32px.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name="generator"/>
<title>Checks - DataOS Vulcan</title>
<link href="../../../assets/stylesheets/main.484c7ddc.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Inter:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Inter";--md-code-font:"JetBrains Mono"}</style>
<link href="../../../assets/stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><script src="../../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
<body data-md-color-accent="blue-grey" data-md-color-primary="blue-grey" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#checks">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="DataOS Vulcan" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="DataOS Vulcan">
<img alt="logo" src="../../../assets/images/D_logo_dark-32px.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            DataOS Vulcan
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Checks
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="blue-grey" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="blue-grey" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="blue-grey" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="blue-grey" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/tmdc-io/vulcan-book" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    tmdc-io/vulcan-book
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="DataOS Vulcan" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="DataOS Vulcan">
<img alt="logo" src="../../../assets/images/D_logo_dark-32px.png"/>
</a>
    DataOS Vulcan
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/tmdc-io/vulcan-book" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    tmdc-io/vulcan-book
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
<span class="md-ellipsis">
    
  
    About
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Configurations
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Configurations
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/overview/">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Options
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Options
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/options/model_defaults/">
<span class="md-ellipsis">
    
  
    Model Defaults
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/options/variables/">
<span class="md-ellipsis">
    
  
    Variables
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/options/execution_hooks/">
<span class="md-ellipsis">
    
  
    Execution Hooks
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/options/notifications/">
<span class="md-ellipsis">
    
  
    Notifications
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/options/linter/">
<span class="md-ellipsis">
    
  
    Linter
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Engines
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Engines
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/engines/bigquery/bigquery/">
<span class="md-ellipsis">
    
  
    BigQuery
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/engines/databricks/databricks/">
<span class="md-ellipsis">
    
  
    Databricks
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/engines/fabric/fabric/">
<span class="md-ellipsis">
    
  
    Microsoft Fabric
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/engines/mssql/mssql/">
<span class="md-ellipsis">
    
  
    Microsoft SQL Server
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/engines/mysql/mysql/">
<span class="md-ellipsis">
    
  
    MySQL
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/engines/postgres/postgres/">
<span class="md-ellipsis">
    
  
    Postgres
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/engines/redshift/redshift/">
<span class="md-ellipsis">
    
  
    Amazon Redshift
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/engines/snowflake/snowflake/">
<span class="md-ellipsis">
    
  
    Snowflake
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/engines/spark/spark/">
<span class="md-ellipsis">
    
  
    Spark
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../configurations/engines/trino/trino/">
<span class="md-ellipsis">
    
  
    Trino
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ci-cd/ci-cd/">
<span class="md-ellipsis">
    
  
    CI/CD
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Components
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Components
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Model
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
            
  
    Model
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/overview/">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/properties/">
<span class="md-ellipsis">
    
  
    Properties
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_1_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1_3" id="__nav_3_1_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Types
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_1_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_1_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Types
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/types/sql_models/">
<span class="md-ellipsis">
    
  
    SQL
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/types/python_models/">
<span class="md-ellipsis">
    
  
    Python
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/types/external_models/">
<span class="md-ellipsis">
    
  
    External
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/types/managed_models/">
<span class="md-ellipsis">
    
  
    Managed
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/model_kinds/">
<span class="md-ellipsis">
    
  
    Kinds
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model/statements/">
<span class="md-ellipsis">
    
  
    Statements
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../tests/tests/">
<span class="md-ellipsis">
    
  
    Tests
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../audits/audits/">
<span class="md-ellipsis">
    
  
    Audits
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    
  
    Checks
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    
  
    Checks
  

    
  </span>
</a>
<nav aria-label="On this page" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      On this page
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#checks-vs-audits-vs-profiles">
<span class="md-ellipsis">
      
        Checks vs Audits vs Profiles
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#when-to-use-checks">
<span class="md-ellipsis">
      
        When to Use Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#quick-start">
<span class="md-ellipsis">
      
        Quick Start
      
    </span>
</a>
<nav aria-label="Quick Start" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#your-first-check">
<span class="md-ellipsis">
      
        Your First Check
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#common-check-patterns">
<span class="md-ellipsis">
      
        Common Check Patterns
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#check-configuration">
<span class="md-ellipsis">
      
        Check Configuration
      
    </span>
</a>
<nav aria-label="Check Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#file-structure">
<span class="md-ellipsis">
      
        File Structure
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-check-syntax">
<span class="md-ellipsis">
      
        Basic Check Syntax
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-quality-dimensions">
<span class="md-ellipsis">
      
        Data Quality Dimensions
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#filtering-checks">
<span class="md-ellipsis">
      
        Filtering Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#check-attributes">
<span class="md-ellipsis">
      
        Check Attributes
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#built-in-check-types">
<span class="md-ellipsis">
      
        Built-in Check Types
      
    </span>
</a>
<nav aria-label="Built-in Check Types" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#missing-data-checks">
<span class="md-ellipsis">
      
        Missing Data Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#row-count-checks">
<span class="md-ellipsis">
      
        Row Count Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#duplicate-count-checks">
<span class="md-ellipsis">
      
        Duplicate Count Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#failed-rows-checks">
<span class="md-ellipsis">
      
        Failed Rows Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#threshold-checks">
<span class="md-ellipsis">
      
        Threshold Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#anomaly-detection">
<span class="md-ellipsis">
      
        Anomaly Detection
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#change-over-time-checks">
<span class="md-ellipsis">
      
        Change Over Time Checks
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-profiling">
<span class="md-ellipsis">
      
        Data Profiling
      
    </span>
</a>
<nav aria-label="Data Profiling" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#what-is-profiling">
<span class="md-ellipsis">
      
        What is Profiling?
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#profile-configuration">
<span class="md-ellipsis">
      
        Profile Configuration
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#profile-storage">
<span class="md-ellipsis">
      
        Profile Storage
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#querying-profiles">
<span class="md-ellipsis">
      
        Querying Profiles
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#using-profiles-to-inform-checks">
<span class="md-ellipsis">
      
        Using Profiles to Inform Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#profile-best-practices">
<span class="md-ellipsis">
      
        Profile Best Practices
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-patterns">
<span class="md-ellipsis">
      
        Advanced Patterns
      
    </span>
</a>
<nav aria-label="Advanced Patterns" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cross-model-validation">
<span class="md-ellipsis">
      
        Cross-Model Validation
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#time-based-validation">
<span class="md-ellipsis">
      
        Time-Based Validation
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#statistical-outlier-detection">
<span class="md-ellipsis">
      
        Statistical Outlier Detection
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices">
<span class="md-ellipsis">
      
        Best Practices
      
    </span>
</a>
<nav aria-label="Best Practices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#check-organization">
<span class="md-ellipsis">
      
        Check Organization
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#naming-conventions">
<span class="md-ellipsis">
      
        Naming Conventions
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#threshold-selection">
<span class="md-ellipsis">
      
        Threshold Selection
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-strategy">
<span class="md-ellipsis">
      
        Integration Strategy
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#troubleshooting">
<span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
</a>
<nav aria-label="Troubleshooting" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#check-failures">
<span class="md-ellipsis">
      
        Check Failures
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-issues">
<span class="md-ellipsis">
      
        Performance Issues
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#false-positives">
<span class="md-ellipsis">
      
        False Positives
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary">
<span class="md-ellipsis">
      
        Summary
      
    </span>
</a>
<nav aria-label="Summary" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#core-concepts">
<span class="md-ellipsis">
      
        Core Concepts
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Semantics
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
            
  
    Semantics
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../semantics/overview/">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../semantics/models/">
<span class="md-ellipsis">
    
  
    Semantic Models
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../semantics/business_metrics/">
<span class="md-ellipsis">
    
  
    Business Metrics
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Advance Features
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
            
  
    Advance Features
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6_1" id="__nav_3_6_1_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Macros
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_1_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_6_1">
<span class="md-nav__icon md-icon"></span>
            
  
    Macros
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced-features/macros/overview/">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced-features/macros/variables/">
<span class="md-ellipsis">
    
  
    Variables
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced-features/macros/built_in/">
<span class="md-ellipsis">
    
  
    Built In
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced-features/macros/jinja/">
<span class="md-ellipsis">
    
  
    Jinja
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced-features/signals/">
<span class="md-ellipsis">
    
  
    Signals
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../advanced-features/custom_materializations/">
<span class="md-ellipsis">
    
  
    Custom materializations
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../guides/get-started/docker/">
<span class="md-ellipsis">
    
  
    Get Started
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../guides/plan_guide/">
<span class="md-ellipsis">
    
  
    Plan
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../guides/run_and_scheduling/">
<span class="md-ellipsis">
    
  
    Run and Scheduling
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../guides/models/">
<span class="md-ellipsis">
    
  
    Models
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../guides/incremental_by_time/">
<span class="md-ellipsis">
    
  
    Incremental by Time
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../guides/data_quality/">
<span class="md-ellipsis">
    
  
    Data Quality
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../guides/model_selection/">
<span class="md-ellipsis">
    
  
    Model Selection
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../guides/transpiling_semantics/">
<span class="md-ellipsis">
    
  
    Transpiling Semantics
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cli-commands/cli/">
<span class="md-ellipsis">
    
  
    CLI Commands
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cookbook/">
<span class="md-ellipsis">
    
  
    Cookbook
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../glossary/">
<span class="md-ellipsis">
    
  
    Glossary
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../faq/">
<span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="On this page" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      On this page
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#checks-vs-audits-vs-profiles">
<span class="md-ellipsis">
      
        Checks vs Audits vs Profiles
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#when-to-use-checks">
<span class="md-ellipsis">
      
        When to Use Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#quick-start">
<span class="md-ellipsis">
      
        Quick Start
      
    </span>
</a>
<nav aria-label="Quick Start" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#your-first-check">
<span class="md-ellipsis">
      
        Your First Check
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#common-check-patterns">
<span class="md-ellipsis">
      
        Common Check Patterns
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#check-configuration">
<span class="md-ellipsis">
      
        Check Configuration
      
    </span>
</a>
<nav aria-label="Check Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#file-structure">
<span class="md-ellipsis">
      
        File Structure
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-check-syntax">
<span class="md-ellipsis">
      
        Basic Check Syntax
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-quality-dimensions">
<span class="md-ellipsis">
      
        Data Quality Dimensions
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#filtering-checks">
<span class="md-ellipsis">
      
        Filtering Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#check-attributes">
<span class="md-ellipsis">
      
        Check Attributes
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#built-in-check-types">
<span class="md-ellipsis">
      
        Built-in Check Types
      
    </span>
</a>
<nav aria-label="Built-in Check Types" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#missing-data-checks">
<span class="md-ellipsis">
      
        Missing Data Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#row-count-checks">
<span class="md-ellipsis">
      
        Row Count Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#duplicate-count-checks">
<span class="md-ellipsis">
      
        Duplicate Count Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#failed-rows-checks">
<span class="md-ellipsis">
      
        Failed Rows Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#threshold-checks">
<span class="md-ellipsis">
      
        Threshold Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#anomaly-detection">
<span class="md-ellipsis">
      
        Anomaly Detection
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#change-over-time-checks">
<span class="md-ellipsis">
      
        Change Over Time Checks
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-profiling">
<span class="md-ellipsis">
      
        Data Profiling
      
    </span>
</a>
<nav aria-label="Data Profiling" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#what-is-profiling">
<span class="md-ellipsis">
      
        What is Profiling?
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#profile-configuration">
<span class="md-ellipsis">
      
        Profile Configuration
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#profile-storage">
<span class="md-ellipsis">
      
        Profile Storage
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#querying-profiles">
<span class="md-ellipsis">
      
        Querying Profiles
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#using-profiles-to-inform-checks">
<span class="md-ellipsis">
      
        Using Profiles to Inform Checks
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#profile-best-practices">
<span class="md-ellipsis">
      
        Profile Best Practices
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-patterns">
<span class="md-ellipsis">
      
        Advanced Patterns
      
    </span>
</a>
<nav aria-label="Advanced Patterns" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#cross-model-validation">
<span class="md-ellipsis">
      
        Cross-Model Validation
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#time-based-validation">
<span class="md-ellipsis">
      
        Time-Based Validation
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#statistical-outlier-detection">
<span class="md-ellipsis">
      
        Statistical Outlier Detection
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#best-practices">
<span class="md-ellipsis">
      
        Best Practices
      
    </span>
</a>
<nav aria-label="Best Practices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#check-organization">
<span class="md-ellipsis">
      
        Check Organization
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#naming-conventions">
<span class="md-ellipsis">
      
        Naming Conventions
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#threshold-selection">
<span class="md-ellipsis">
      
        Threshold Selection
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#integration-strategy">
<span class="md-ellipsis">
      
        Integration Strategy
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#troubleshooting">
<span class="md-ellipsis">
      
        Troubleshooting
      
    </span>
</a>
<nav aria-label="Troubleshooting" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#check-failures">
<span class="md-ellipsis">
      
        Check Failures
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#performance-issues">
<span class="md-ellipsis">
      
        Performance Issues
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#false-positives">
<span class="md-ellipsis">
      
        False Positives
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#summary">
<span class="md-ellipsis">
      
        Summary
      
    </span>
</a>
<nav aria-label="Summary" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#core-concepts">
<span class="md-ellipsis">
      
        Core Concepts
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<nav aria-label="Navigation" class="md-path">
<ol class="md-path__list">
<li class="md-path__item">
<a class="md-path__link" href="../../..">
<span class="md-ellipsis">
    About
  </span>
</a>
</li>
<li class="md-path__item">
<a class="md-path__link" href="../../model/overview/">
<span class="md-ellipsis">
    Components
  </span>
</a>
</li>
</ol>
</nav>
<article class="md-content__inner md-typeset">
<h1 id="checks">Checks<a class="headerlink" href="#checks" title="Link to this section">¶</a></h1>
<p>Quality checks are validation rules that monitor your data quality over time without blocking your models. They warn you when something looks off, but they don't stop execution.</p>
<p>Unlike <a href="../../audits/audits/">audits</a> (which block models execution when they fail), checks run separately or alongside your models and provide non-blocking validation. They're perfect for tracking trends, detecting anomalies, and building up a historical picture of your data quality.</p>
<p><strong>What makes checks special:</strong></p>
<ul>
<li>
<p>Configured in simple YAML files in the <code>checks/</code> directory</p>
</li>
<li>
<p>Don't block models (your models keep running even if checks fail)</p>
</li>
<li>
<p>Track historical patterns and trends</p>
</li>
<li>
<p>Support complex statistical analysis</p>
</li>
<li>
<p>Integrate with Activity API for monitoring and alerting</p>
</li>
</ul>
<h2 id="checks-vs-audits-vs-profiles">Checks vs Audits vs Profiles<a class="headerlink" href="#checks-vs-audits-vs-profiles" title="Link to this section">¶</a></h2>
<p>Before we dive in, let's clear up the confusion around these three data quality mechanisms. They all serve different purposes, and understanding when to use each one will save you headaches later.</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Audits</th>
<th>Checks</th>
<th>Profiles</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Purpose</strong></td>
<td>Critical validation</td>
<td>Monitoring &amp; analysis</td>
<td>Observation &amp; tracking</td>
</tr>
<tr>
<td><strong>When runs</strong></td>
<td>With model (inline)</td>
<td>Separately or with models</td>
<td>With model</td>
</tr>
<tr>
<td><strong>Blocks models?</strong></td>
<td>Yes (always)</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>In MODEL DDL or .sql files</td>
<td>YAML files (<code>checks/</code>)</td>
<td>In MODEL DDL</td>
</tr>
<tr>
<td><strong>Output</strong></td>
<td>Pass/fail</td>
<td>Pass/fail + samples</td>
<td>Statistical metrics</td>
</tr>
<tr>
<td><strong>Best for</strong></td>
<td>Business rules, data integrity</td>
<td>Trend monitoring, anomalies</td>
<td>Understanding data</td>
</tr>
<tr>
<td><strong>Historical tracking</strong></td>
<td>No</td>
<td>Yes (Activity API)</td>
<td>Yes (<code>_check_profiles</code>)</td>
</tr>
</tbody>
</table>
<p><strong>The Three-Layer Strategy:</strong></p>
<p>A layered approach to data quality:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a>┌─────────────────────────────────────────┐
</span><span id="__span-0-2"><a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a>│  AUDITS (Critical - Blocks models)   │
</span><span id="__span-0-3"><a href="#__codelineno-0-3" id="__codelineno-0-3" name="__codelineno-0-3"></a>│  • Primary keys must be unique          │
</span><span id="__span-0-4"><a href="#__codelineno-0-4" id="__codelineno-0-4" name="__codelineno-0-4"></a>│  • Revenue must be non-negative         │
</span><span id="__span-0-5"><a href="#__codelineno-0-5" id="__codelineno-0-5" name="__codelineno-0-5"></a>│  • Foreign key relationships valid      │
</span><span id="__span-0-6"><a href="#__codelineno-0-6" id="__codelineno-0-6" name="__codelineno-0-6"></a>└─────────────────────────────────────────┘
</span><span id="__span-0-7"><a href="#__codelineno-0-7" id="__codelineno-0-7" name="__codelineno-0-7"></a>              ↓
</span><span id="__span-0-8"><a href="#__codelineno-0-8" id="__codelineno-0-8" name="__codelineno-0-8"></a>┌─────────────────────────────────────────┐
</span><span id="__span-0-9"><a href="#__codelineno-0-9" id="__codelineno-0-9" name="__codelineno-0-9"></a>│  CHECKS (Monitoring - Non-Blocking)     │
</span><span id="__span-0-10"><a href="#__codelineno-0-10" id="__codelineno-0-10" name="__codelineno-0-10"></a>│  • Row count within expected range      │
</span><span id="__span-0-11"><a href="#__codelineno-0-11" id="__codelineno-0-11" name="__codelineno-0-11"></a>│  • Anomaly detection on metrics         │
</span><span id="__span-0-12"><a href="#__codelineno-0-12" id="__codelineno-0-12" name="__codelineno-0-12"></a>│  • Cross-table consistency              │
</span><span id="__span-0-13"><a href="#__codelineno-0-13" id="__codelineno-0-13" name="__codelineno-0-13"></a>└─────────────────────────────────────────┘
</span><span id="__span-0-14"><a href="#__codelineno-0-14" id="__codelineno-0-14" name="__codelineno-0-14"></a>              ↓
</span><span id="__span-0-15"><a href="#__codelineno-0-15" id="__codelineno-0-15" name="__codelineno-0-15"></a>┌─────────────────────────────────────────┐
</span><span id="__span-0-16"><a href="#__codelineno-0-16" id="__codelineno-0-16" name="__codelineno-0-16"></a>│  PROFILES (Observation - Metrics)       │
</span><span id="__span-0-17"><a href="#__codelineno-0-17" id="__codelineno-0-17" name="__codelineno-0-17"></a>│  • Track null percentages               │
</span><span id="__span-0-18"><a href="#__codelineno-0-18" id="__codelineno-0-18" name="__codelineno-0-18"></a>│  • Monitor column distributions         │
</span><span id="__span-0-19"><a href="#__codelineno-0-19" id="__codelineno-0-19" name="__codelineno-0-19"></a>│  • Detect data drift                    │
</span><span id="__span-0-20"><a href="#__codelineno-0-20" id="__codelineno-0-20" name="__codelineno-0-20"></a>└─────────────────────────────────────────┘
</span></code></pre></div>
<p>Audits stop bad data at the door. Checks watch for problems but don't interfere. Profiles observe patterns and help you understand what's normal.</p>
<h2 id="when-to-use-checks">When to Use Checks<a class="headerlink" href="#when-to-use-checks" title="Link to this section">¶</a></h2>
<p><strong>Use Quality Checks for:</strong></p>
<ul>
<li>
<p>Monitoring data quality trends over time (is completeness getting worse?)</p>
</li>
<li>
<p>Statistical anomaly detection (did revenue suddenly spike?)</p>
</li>
<li>
<p>Cross-model validation (do orders match customers?)</p>
</li>
<li>
<p>Non-critical validation (warnings, not blockers)</p>
</li>
<li>
<p>Complex validation requiring historical context</p>
</li>
<li>
<p>Building data quality dashboards</p>
</li>
</ul>
<p><strong>Use Audits Instead for:</strong></p>
<ul>
<li>
<p>Critical business rules that must pass (revenue can't be negative)</p>
</li>
<li>
<p>Model-specific validation (runs inline with the model)</p>
</li>
<li>
<p>Simple SQL assertions</p>
</li>
<li>
<p>Blocking invalid data from flowing downstream</p>
</li>
</ul>
<p><strong>Use Profiles Instead for:</strong></p>
<ul>
<li>
<p>Understanding data characteristics (what does this column look like?)</p>
</li>
<li>
<p>Discovering patterns (not validation)</p>
</li>
<li>
<p>Detecting data drift over time</p>
</li>
<li>
<p>Informing which checks/audits to add</p>
</li>
</ul>
<p><strong>Example: Revenue validation strategy</strong></p>
<p>Here's how you'd layer all three for a revenue table:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-1-1"><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1">-- AUDIT (Critical - blocks if fails)</span>
</span><span id="__span-1-2"><a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a>
</span><span id="__span-1-3"><a href="#__codelineno-1-3" id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="c1">-- This stops the models if revenue is invalid</span>
</span><span id="__span-1-4"><a href="#__codelineno-1-4" id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="n">MODEL</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-1-5"><a href="#__codelineno-1-5" id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="n">analytics</span><span class="p">.</span><span class="n">revenue</span><span class="p">,</span>
</span><span id="__span-1-6"><a href="#__codelineno-1-6" id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">  </span><span class="n">assertions</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-1-7"><a href="#__codelineno-1-7" id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">    </span><span class="n">not_null</span><span class="p">(</span><span class="n">columns</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">customer_id</span><span class="p">,</span><span class="w"> </span><span class="n">revenue</span><span class="p">)),</span>
</span><span id="__span-1-8"><a href="#__codelineno-1-8" id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">    </span><span class="n">accepted_range</span><span class="p">(</span><span class="k">column</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">revenue</span><span class="p">,</span><span class="w"> </span><span class="n">min_v</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">max_v</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="mi">100000000</span><span class="p">)</span>
</span><span id="__span-1-9"><a href="#__codelineno-1-9" id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">  </span><span class="p">)</span>
</span><span id="__span-1-10"><a href="#__codelineno-1-10" id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="p">);</span>
</span></code></pre></div>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-2-1"><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="c1"># CHECK (Monitoring - warns if unusual)</span>
</span><span id="__span-2-2"><a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="c1"># This watches for anomalies but doesn't block</span>
</span><span id="__span-2-3"><a href="#__codelineno-2-3" id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-2-4"><a href="#__codelineno-2-4" id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="w">  </span><span class="nt">analytics.revenue</span><span class="p">:</span>
</span><span id="__span-2-5"><a href="#__codelineno-2-5" id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="w">    </span><span class="nt">accuracy</span><span class="p">:</span>
</span><span id="__span-2-6"><a href="#__codelineno-2-6" id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">anomaly detection for avg(revenue)</span><span class="p">:</span>
</span><span id="__span-2-7"><a href="#__codelineno-2-7" id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">revenue_anomaly_detection</span>
</span><span id="__span-2-8"><a href="#__codelineno-2-8" id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">change for row_count &gt;= -30%</span><span class="p">:</span>
</span><span id="__span-2-9"><a href="#__codelineno-2-9" id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count_drop_alert</span>
</span></code></pre></div>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c1">-- PROFILE (Observation - tracks over time)</span>
</span><span id="__span-3-2"><a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a>
</span><span id="__span-3-3"><a href="#__codelineno-3-3" id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="c1">-- This just watches and records what it sees</span>
</span><span id="__span-3-4"><a href="#__codelineno-3-4" id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="n">MODEL</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-3-5"><a href="#__codelineno-3-5" id="__codelineno-3-5" name="__codelineno-3-5"></a><span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="n">analytics</span><span class="p">.</span><span class="n">revenue</span><span class="p">,</span>
</span><span id="__span-3-6"><a href="#__codelineno-3-6" id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">  </span><span class="n">profiles</span><span class="w"> </span><span class="p">(</span><span class="n">revenue</span><span class="p">,</span><span class="w"> </span><span class="n">order_count</span><span class="p">,</span><span class="w"> </span><span class="n">customer_tier</span><span class="p">)</span>
</span><span id="__span-3-7"><a href="#__codelineno-3-7" id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="p">);</span>
</span></code></pre></div>
<h2 id="quick-start">Quick Start<a class="headerlink" href="#quick-start" title="Link to this section">¶</a></h2>
<h3 id="your-first-check">Your First Check<a class="headerlink" href="#your-first-check" title="Link to this section">¶</a></h3>
<p>Let's create your first check. It's simpler than you might think!</p>
<p>Create a file <code>checks/customers.yml</code>:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-4-1"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-4-2"><a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="w">  </span><span class="nt">analytics.customers</span><span class="p">:</span>
</span><span id="__span-4-3"><a href="#__codelineno-4-3" id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-4-4"><a href="#__codelineno-4-4" id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">missing_count(email) = 0</span><span class="p">:</span>
</span><span id="__span-4-5"><a href="#__codelineno-4-5" id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">no_missing_emails</span>
</span><span id="__span-4-6"><a href="#__codelineno-4-6" id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">          </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-4-7"><a href="#__codelineno-4-7" id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"All</span><span class="nv"> </span><span class="s">customers</span><span class="nv"> </span><span class="s">must</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">an</span><span class="nv"> </span><span class="s">email</span><span class="nv"> </span><span class="s">address"</span>
</span></code></pre></div>
<p>That's it! This check ensures that every customer has an email address. When you run your models, this check will run automatically and warn you if any emails are missing.</p>
<p><strong>What happens when it runs:</strong></p>
<p>Checks and profiles run automatically when models are executed, either through a <strong>plan</strong> or <strong>run</strong> command. Here's what the execution output looks like:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a>Check<span class="w"> </span>Executions<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="w"> </span>Models<span class="o">)</span>
</span><span id="__span-5-2"><a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a>└──<span class="w"> </span>hello.subscriptions
</span><span id="__span-5-3"><a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="w">    </span>├──<span class="w"> </span>completeness<span class="w"> </span><span class="o">(</span><span class="m">4</span>/4<span class="o">)</span>
</span><span id="__span-5-4"><a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="w">    </span>├──<span class="w"> </span>uniqueness<span class="w"> </span><span class="o">(</span><span class="m">1</span>/1<span class="o">)</span>
</span><span id="__span-5-5"><a href="#__codelineno-5-5" id="__codelineno-5-5" name="__codelineno-5-5"></a><span class="w">    </span>└──<span class="w"> </span>validity<span class="w"> </span><span class="o">(</span><span class="m">3</span>/3<span class="o">)</span>
</span><span id="__span-5-6"><a href="#__codelineno-5-6" id="__codelineno-5-6" name="__codelineno-5-6"></a>
</span><span id="__span-5-7"><a href="#__codelineno-5-7" id="__codelineno-5-7" name="__codelineno-5-7"></a>Profiled<span class="w"> </span><span class="m">1</span><span class="w"> </span>model<span class="w"> </span><span class="o">(</span><span class="m">3</span><span class="w"> </span>columns<span class="o">)</span>:
</span><span id="__span-5-8"><a href="#__codelineno-5-8" id="__codelineno-5-8" name="__codelineno-5-8"></a><span class="w">  </span>warehouse.hello.subscriptions:<span class="w"> </span><span class="m">3</span><span class="w"> </span>columns
</span></code></pre></div>
<p>Here are common patterns you'll use:</p>
<h3 id="common-check-patterns">Common Check Patterns<a class="headerlink" href="#common-check-patterns" title="Link to this section">¶</a></h3>
<p>Here are the patterns you'll use most often. Copy these, tweak them for your tables, and you're good to go!</p>
<h4 id="pattern-1-completeness-checks">Pattern 1: Completeness Checks<a class="headerlink" href="#pattern-1-completeness-checks" title="Link to this section">¶</a></h4>
<p>Make sure required data is present:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-6-1"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-6-2"><a href="#__codelineno-6-2" id="__codelineno-6-2" name="__codelineno-6-2"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-6-3"><a href="#__codelineno-6-3" id="__codelineno-6-3" name="__codelineno-6-3"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-6-4"><a href="#__codelineno-6-4" id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">missing_count(customer_id) = 0</span><span class="p">:</span>
</span><span id="__span-6-5"><a href="#__codelineno-6-5" id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">customer_id_required</span>
</span><span id="__span-6-6"><a href="#__codelineno-6-6" id="__codelineno-6-6" name="__codelineno-6-6"></a>
</span><span id="__span-6-7"><a href="#__codelineno-6-7" id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">missing_percent(email) &lt; 5</span><span class="p">:</span>
</span><span id="__span-6-8"><a href="#__codelineno-6-8" id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">email_mostly_complete</span>
</span><span id="__span-6-9"><a href="#__codelineno-6-9" id="__codelineno-6-9" name="__codelineno-6-9"></a>
</span><span id="__span-6-10"><a href="#__codelineno-6-10" id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">row_count &gt; 1000</span><span class="p">:</span>
</span><span id="__span-6-11"><a href="#__codelineno-6-11" id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sufficient_orders</span>
</span></code></pre></div>
<p>The first check ensures every order has a customer ID (zero tolerance). The second allows up to 5% missing emails (sometimes that's okay). The third makes sure you have enough data to work with.</p>
<h4 id="pattern-2-validity-checks">Pattern 2: Validity Checks<a class="headerlink" href="#pattern-2-validity-checks" title="Link to this section">¶</a></h4>
<p>Validate data format and values:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-7-1"><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-7-2"><a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a><span class="w">  </span><span class="nt">analytics.users</span><span class="p">:</span>
</span><span id="__span-7-3"><a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a><span class="w">    </span><span class="nt">validity</span><span class="p">:</span>
</span><span id="__span-7-4"><a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-7-5"><a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">invalid_emails</span>
</span><span id="__span-7-6"><a href="#__codelineno-7-6" id="__codelineno-7-6" name="__codelineno-7-6"></a><span class="w">          </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-7-7"><a href="#__codelineno-7-7" id="__codelineno-7-7" name="__codelineno-7-7"></a><span class="w">            </span><span class="no">SELECT user_id, email</span>
</span><span id="__span-7-8"><a href="#__codelineno-7-8" id="__codelineno-7-8" name="__codelineno-7-8"></a><span class="w">            </span><span class="no">FROM analytics.users</span>
</span><span id="__span-7-9"><a href="#__codelineno-7-9" id="__codelineno-7-9" name="__codelineno-7-9"></a><span class="w">            </span><span class="no">WHERE email NOT LIKE '%@%'</span>
</span><span id="__span-7-10"><a href="#__codelineno-7-10" id="__codelineno-7-10" name="__codelineno-7-10"></a><span class="w">          </span><span class="nt">samples limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span><span id="__span-7-11"><a href="#__codelineno-7-11" id="__codelineno-7-11" name="__codelineno-7-11"></a>
</span><span id="__span-7-12"><a href="#__codelineno-7-12" id="__codelineno-7-12" name="__codelineno-7-12"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-7-13"><a href="#__codelineno-7-13" id="__codelineno-7-13" name="__codelineno-7-13"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">invalid_ages</span>
</span><span id="__span-7-14"><a href="#__codelineno-7-14" id="__codelineno-7-14" name="__codelineno-7-14"></a><span class="w">          </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-7-15"><a href="#__codelineno-7-15" id="__codelineno-7-15" name="__codelineno-7-15"></a><span class="w">            </span><span class="no">SELECT user_id, age</span>
</span><span id="__span-7-16"><a href="#__codelineno-7-16" id="__codelineno-7-16" name="__codelineno-7-16"></a><span class="w">            </span><span class="no">FROM analytics.users</span>
</span><span id="__span-7-17"><a href="#__codelineno-7-17" id="__codelineno-7-17" name="__codelineno-7-17"></a><span class="w">            </span><span class="no">WHERE age &lt; 0 OR age &gt; 120</span>
</span></code></pre></div>
<p>The <code>failed rows</code> check type is flexible. You can write any SQL query. If it returns rows, the check fails and captures those rows as samples.</p>
<h4 id="pattern-3-uniqueness-checks">Pattern 3: Uniqueness Checks<a class="headerlink" href="#pattern-3-uniqueness-checks" title="Link to this section">¶</a></h4>
<p>Ensure no duplicates:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-8-1"><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-8-2"><a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a><span class="w">  </span><span class="nt">analytics.customers</span><span class="p">:</span>
</span><span id="__span-8-3"><a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a><span class="w">    </span><span class="nt">uniqueness</span><span class="p">:</span>
</span><span id="__span-8-4"><a href="#__codelineno-8-4" id="__codelineno-8-4" name="__codelineno-8-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">duplicate_count(email) = 0</span><span class="p">:</span>
</span><span id="__span-8-5"><a href="#__codelineno-8-5" id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unique_emails</span>
</span><span id="__span-8-6"><a href="#__codelineno-8-6" id="__codelineno-8-6" name="__codelineno-8-6"></a>
</span><span id="__span-8-7"><a href="#__codelineno-8-7" id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">duplicate_count(customer_id, order_date) = 0</span><span class="p p-Indicator">:</span>
</span><span id="__span-8-8"><a href="#__codelineno-8-8" id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unique_customer_date_combination</span>
</span></code></pre></div>
<p>The second example shows composite keys, maybe a customer can have multiple orders, but only one per day.</p>
<h4 id="pattern-4-anomaly-detection">Pattern 4: Anomaly Detection<a class="headerlink" href="#pattern-4-anomaly-detection" title="Link to this section">¶</a></h4>
<p>Detect unusual patterns automatically:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-9-1"><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-9-2"><a href="#__codelineno-9-2" id="__codelineno-9-2" name="__codelineno-9-2"></a><span class="w">  </span><span class="nt">analytics.daily_revenue</span><span class="p">:</span>
</span><span id="__span-9-3"><a href="#__codelineno-9-3" id="__codelineno-9-3" name="__codelineno-9-3"></a><span class="w">    </span><span class="nt">accuracy</span><span class="p">:</span>
</span><span id="__span-9-4"><a href="#__codelineno-9-4" id="__codelineno-9-4" name="__codelineno-9-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">anomaly detection for row_count</span><span class="p">:</span>
</span><span id="__span-9-5"><a href="#__codelineno-9-5" id="__codelineno-9-5" name="__codelineno-9-5"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count_anomaly</span>
</span><span id="__span-9-6"><a href="#__codelineno-9-6" id="__codelineno-9-6" name="__codelineno-9-6"></a>
</span><span id="__span-9-7"><a href="#__codelineno-9-7" id="__codelineno-9-7" name="__codelineno-9-7"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">anomaly detection for avg(revenue)</span><span class="p">:</span>
</span><span id="__span-9-8"><a href="#__codelineno-9-8" id="__codelineno-9-8" name="__codelineno-9-8"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">revenue_anomaly</span>
</span></code></pre></div>
<p>Anomaly detection learns from historical data and flags when something looks unusual. It needs to run a few times first to build up a baseline, then it detects problems.</p>
<h4 id="pattern-5-change-monitoring">Pattern 5: Change Monitoring<a class="headerlink" href="#pattern-5-change-monitoring" title="Link to this section">¶</a></h4>
<p>Track changes over time:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-10-1"><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-10-2"><a href="#__codelineno-10-2" id="__codelineno-10-2" name="__codelineno-10-2"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-10-3"><a href="#__codelineno-10-3" id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="w">    </span><span class="nt">timeliness</span><span class="p">:</span>
</span><span id="__span-10-4"><a href="#__codelineno-10-4" id="__codelineno-10-4" name="__codelineno-10-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">change for row_count &gt;= -50%</span><span class="p">:</span>
</span><span id="__span-10-5"><a href="#__codelineno-10-5" id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count_drop_alert</span>
</span><span id="__span-10-6"><a href="#__codelineno-10-6" id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="w">          </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-10-7"><a href="#__codelineno-10-7" id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="w">            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Alert</span><span class="nv"> </span><span class="s">if</span><span class="nv"> </span><span class="s">row</span><span class="nv"> </span><span class="s">count</span><span class="nv"> </span><span class="s">drops</span><span class="nv"> </span><span class="s">more</span><span class="nv"> </span><span class="s">than</span><span class="nv"> </span><span class="s">50%"</span>
</span></code></pre></div>
<p>This compares the current value to the previous run and alerts you if it changes too much. Perfect for catching sudden drops or spikes.</p>
<h2 id="check-configuration">Check Configuration<a class="headerlink" href="#check-configuration" title="Link to this section">¶</a></h2>
<h3 id="file-structure">File Structure<a class="headerlink" href="#file-structure" title="Link to this section">¶</a></h3>
<p>Checks live in YAML files in the <code>checks/</code> directory. You can organize them however makes sense for your project:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a>project/
</span><span id="__span-11-2"><a href="#__codelineno-11-2" id="__codelineno-11-2" name="__codelineno-11-2"></a>├── models/
</span><span id="__span-11-3"><a href="#__codelineno-11-3" id="__codelineno-11-3" name="__codelineno-11-3"></a>├── checks/
</span><span id="__span-11-4"><a href="#__codelineno-11-4" id="__codelineno-11-4" name="__codelineno-11-4"></a>│   ├── users.yml           # Checks for user tables
</span><span id="__span-11-5"><a href="#__codelineno-11-5" id="__codelineno-11-5" name="__codelineno-11-5"></a>│   ├── orders.yml          # Checks for order tables
</span><span id="__span-11-6"><a href="#__codelineno-11-6" id="__codelineno-11-6" name="__codelineno-11-6"></a>│   ├── revenue.yml         # Checks for revenue tables
</span><span id="__span-11-7"><a href="#__codelineno-11-7" id="__codelineno-11-7" name="__codelineno-11-7"></a>│   └── cross_model.yml     # Checks spanning multiple tables
</span><span id="__span-11-8"><a href="#__codelineno-11-8" id="__codelineno-11-8" name="__codelineno-11-8"></a>└── config.yaml
</span></code></pre></div>
<p><strong>File naming:</strong></p>
<ul>
<li>
<p>Must end with <code>.yml</code> or <code>.yaml</code></p>
</li>
<li>
<p>The name doesn't matter (Vulcan reads all files in the directory)</p>
</li>
<li>
<p>Organize by domain or table for clarity, whatever helps you find things</p>
</li>
</ul>
<h3 id="basic-check-syntax">Basic Check Syntax<a class="headerlink" href="#basic-check-syntax" title="Link to this section">¶</a></h3>
<p>Here's the basic structure of a check:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-12-1"><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-12-2"><a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a><span class="w">  </span><span class="nt">&lt;fully_qualified_table_name&gt;</span><span class="p">:</span>
</span><span id="__span-12-3"><a href="#__codelineno-12-3" id="__codelineno-12-3" name="__codelineno-12-3"></a><span class="w">    </span><span class="nt">&lt;dimension&gt;</span><span class="p">:</span>
</span><span id="__span-12-4"><a href="#__codelineno-12-4" id="__codelineno-12-4" name="__codelineno-12-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">&lt;check_expression&gt;</span><span class="p">:</span>
</span><span id="__span-12-5"><a href="#__codelineno-12-5" id="__codelineno-12-5" name="__codelineno-12-5"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;check_name&gt;</span>
</span><span id="__span-12-6"><a href="#__codelineno-12-6" id="__codelineno-12-6" name="__codelineno-12-6"></a><span class="w">          </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-12-7"><a href="#__codelineno-12-7" id="__codelineno-12-7" name="__codelineno-12-7"></a><span class="w">            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;human_readable_description&gt;</span>
</span><span id="__span-12-8"><a href="#__codelineno-12-8" id="__codelineno-12-8" name="__codelineno-12-8"></a><span class="w">            </span><span class="nt">severity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;warning|error&gt;</span>
</span><span id="__span-12-9"><a href="#__codelineno-12-9" id="__codelineno-12-9" name="__codelineno-12-9"></a><span class="w">            </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">&lt;tag1&gt;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">&lt;tag2&gt;</span><span class="p p-Indicator">]</span>
</span></code></pre></div>
<p><strong>Example:</strong></p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-13-1"><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-13-2"><a href="#__codelineno-13-2" id="__codelineno-13-2" name="__codelineno-13-2"></a><span class="w">  </span><span class="nt">analytics.customers</span><span class="p">:</span>
</span><span id="__span-13-3"><a href="#__codelineno-13-3" id="__codelineno-13-3" name="__codelineno-13-3"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-13-4"><a href="#__codelineno-13-4" id="__codelineno-13-4" name="__codelineno-13-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">row_count &gt; 100</span><span class="p">:</span>
</span><span id="__span-13-5"><a href="#__codelineno-13-5" id="__codelineno-13-5" name="__codelineno-13-5"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sufficient_customers</span>
</span><span id="__span-13-6"><a href="#__codelineno-13-6" id="__codelineno-13-6" name="__codelineno-13-6"></a><span class="w">          </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-13-7"><a href="#__codelineno-13-7" id="__codelineno-13-7" name="__codelineno-13-7"></a><span class="w">            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"At</span><span class="nv"> </span><span class="s">least</span><span class="nv"> </span><span class="s">100</span><span class="nv"> </span><span class="s">customers</span><span class="nv"> </span><span class="s">expected</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">production"</span>
</span><span id="__span-13-8"><a href="#__codelineno-13-8" id="__codelineno-13-8" name="__codelineno-13-8"></a><span class="w">            </span><span class="nt">severity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">warning</span>
</span><span id="__span-13-9"><a href="#__codelineno-13-9" id="__codelineno-13-9" name="__codelineno-13-9"></a><span class="w">            </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">critical</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">daily</span><span class="p p-Indicator">]</span>
</span></code></pre></div>
<p>The <code>name</code> field is required and should be descriptive. The <code>attributes</code> section is optional but useful for documentation and filtering.</p>
<h3 id="data-quality-dimensions">Data Quality Dimensions<a class="headerlink" href="#data-quality-dimensions" title="Link to this section">¶</a></h3>
<p>Checks are organized by <strong>8 standard dimensions</strong> (based on ODPS v3.1). Each dimension focuses on a different aspect of data quality:</p>
<h4 id="1-completeness">1. Completeness<a class="headerlink" href="#1-completeness" title="Link to this section">¶</a></h4>
<p>No missing required data. This is probably the most common dimension you'll use.</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-14-1"><a href="#__codelineno-14-1" id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-14-2"><a href="#__codelineno-14-2" id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">missing_count(customer_id) = 0</span>
</span><span id="__span-14-3"><a href="#__codelineno-14-3" id="__codelineno-14-3" name="__codelineno-14-3"></a>
</span><span id="__span-14-4"><a href="#__codelineno-14-4" id="__codelineno-14-4" name="__codelineno-14-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">missing_percent(email) &lt; 5</span>
</span><span id="__span-14-5"><a href="#__codelineno-14-5" id="__codelineno-14-5" name="__codelineno-14-5"></a>
</span><span id="__span-14-6"><a href="#__codelineno-14-6" id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count &gt; 1000</span>
</span></code></pre></div>
<h4 id="2-validity">2. Validity<a class="headerlink" href="#2-validity" title="Link to this section">¶</a></h4>
<p>Data conforms to format/syntax. Is that email actually an email? Is that date in the right format?</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-15-1"><a href="#__codelineno-15-1" id="__codelineno-15-1" name="__codelineno-15-1"></a><span class="nt">validity</span><span class="p">:</span>
</span><span id="__span-15-2"><a href="#__codelineno-15-2" id="__codelineno-15-2" name="__codelineno-15-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-15-3"><a href="#__codelineno-15-3" id="__codelineno-15-3" name="__codelineno-15-3"></a><span class="w">      </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-15-4"><a href="#__codelineno-15-4" id="__codelineno-15-4" name="__codelineno-15-4"></a><span class="w">        </span><span class="no">SELECT * FROM table</span>
</span><span id="__span-15-5"><a href="#__codelineno-15-5" id="__codelineno-15-5" name="__codelineno-15-5"></a><span class="w">        </span><span class="no">WHERE email NOT LIKE '%@%'</span>
</span></code></pre></div>
<h4 id="3-accuracy">3. Accuracy<a class="headerlink" href="#3-accuracy" title="Link to this section">¶</a></h4>
<p>Data matches reality. Is the average age reasonable? Is revenue in the expected range?</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-16-1"><a href="#__codelineno-16-1" id="__codelineno-16-1" name="__codelineno-16-1"></a><span class="nt">accuracy</span><span class="p">:</span>
</span><span id="__span-16-2"><a href="#__codelineno-16-2" id="__codelineno-16-2" name="__codelineno-16-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">anomaly detection for avg(revenue)</span>
</span><span id="__span-16-3"><a href="#__codelineno-16-3" id="__codelineno-16-3" name="__codelineno-16-3"></a>
</span><span id="__span-16-4"><a href="#__codelineno-16-4" id="__codelineno-16-4" name="__codelineno-16-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">avg(age) between 18 and 65</span>
</span></code></pre></div>
<h4 id="4-consistency">4. Consistency<a class="headerlink" href="#4-consistency" title="Link to this section">¶</a></h4>
<p>Data agrees across sources. Do orders match customers? Are totals consistent?</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-17-1"><a href="#__codelineno-17-1" id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="nt">consistency</span><span class="p">:</span>
</span><span id="__span-17-2"><a href="#__codelineno-17-2" id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-17-3"><a href="#__codelineno-17-3" id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w">      </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-17-4"><a href="#__codelineno-17-4" id="__codelineno-17-4" name="__codelineno-17-4"></a><span class="w">        </span><span class="no">SELECT *</span>
</span><span id="__span-17-5"><a href="#__codelineno-17-5" id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="w">        </span><span class="no">FROM orders o</span>
</span><span id="__span-17-6"><a href="#__codelineno-17-6" id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="w">        </span><span class="no">LEFT JOIN customers c ON o.customer_id = c.customer_id</span>
</span><span id="__span-17-7"><a href="#__codelineno-17-7" id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="w">        </span><span class="no">WHERE c.customer_id IS NULL</span>
</span></code></pre></div>
<h4 id="5-uniqueness">5. Uniqueness<a class="headerlink" href="#5-uniqueness" title="Link to this section">¶</a></h4>
<p>No duplicates. Is that email really unique? Can customers have multiple orders per day?</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-18-1"><a href="#__codelineno-18-1" id="__codelineno-18-1" name="__codelineno-18-1"></a><span class="nt">uniqueness</span><span class="p">:</span>
</span><span id="__span-18-2"><a href="#__codelineno-18-2" id="__codelineno-18-2" name="__codelineno-18-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">duplicate_count(email) = 0</span>
</span><span id="__span-18-3"><a href="#__codelineno-18-3" id="__codelineno-18-3" name="__codelineno-18-3"></a>
</span><span id="__span-18-4"><a href="#__codelineno-18-4" id="__codelineno-18-4" name="__codelineno-18-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">duplicate_count(order_id) = 0</span>
</span></code></pre></div>
<h4 id="6-timeliness">6. Timeliness<a class="headerlink" href="#6-timeliness" title="Link to this section">¶</a></h4>
<p>Data is current. Is the data fresh? Are updates happening on time?</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-19-1"><a href="#__codelineno-19-1" id="__codelineno-19-1" name="__codelineno-19-1"></a><span class="nt">timeliness</span><span class="p">:</span>
</span><span id="__span-19-2"><a href="#__codelineno-19-2" id="__codelineno-19-2" name="__codelineno-19-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">change for row_count &gt;= -30%</span>
</span><span id="__span-19-3"><a href="#__codelineno-19-3" id="__codelineno-19-3" name="__codelineno-19-3"></a>
</span><span id="__span-19-4"><a href="#__codelineno-19-4" id="__codelineno-19-4" name="__codelineno-19-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-19-5"><a href="#__codelineno-19-5" id="__codelineno-19-5" name="__codelineno-19-5"></a><span class="w">      </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-19-6"><a href="#__codelineno-19-6" id="__codelineno-19-6" name="__codelineno-19-6"></a><span class="w">        </span><span class="no">SELECT *</span>
</span><span id="__span-19-7"><a href="#__codelineno-19-7" id="__codelineno-19-7" name="__codelineno-19-7"></a><span class="w">        </span><span class="no">FROM orders</span>
</span><span id="__span-19-8"><a href="#__codelineno-19-8" id="__codelineno-19-8" name="__codelineno-19-8"></a><span class="w">        </span><span class="no">WHERE updated_at &lt; CURRENT_DATE - INTERVAL '7 days'</span>
</span></code></pre></div>
<h4 id="7-conformity">7. Conformity<a class="headerlink" href="#7-conformity" title="Link to this section">¶</a></h4>
<p>Follows standards. Does the zip code have the right format? Are codes valid?</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-20-1"><a href="#__codelineno-20-1" id="__codelineno-20-1" name="__codelineno-20-1"></a><span class="nt">conformity</span><span class="p">:</span>
</span><span id="__span-20-2"><a href="#__codelineno-20-2" id="__codelineno-20-2" name="__codelineno-20-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-20-3"><a href="#__codelineno-20-3" id="__codelineno-20-3" name="__codelineno-20-3"></a><span class="w">      </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-20-4"><a href="#__codelineno-20-4" id="__codelineno-20-4" name="__codelineno-20-4"></a><span class="w">        </span><span class="no">SELECT *</span>
</span><span id="__span-20-5"><a href="#__codelineno-20-5" id="__codelineno-20-5" name="__codelineno-20-5"></a><span class="w">        </span><span class="no">FROM addresses</span>
</span><span id="__span-20-6"><a href="#__codelineno-20-6" id="__codelineno-20-6" name="__codelineno-20-6"></a><span class="w">        </span><span class="no">WHERE LENGTH(zip_code) != 5</span>
</span></code></pre></div>
<h4 id="8-coverage">8. Coverage<a class="headerlink" href="#8-coverage" title="Link to this section">¶</a></h4>
<p>All records are present. Did we get all the data we expected?</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-21-1"><a href="#__codelineno-21-1" id="__codelineno-21-1" name="__codelineno-21-1"></a><span class="nt">coverage</span><span class="p">:</span>
</span><span id="__span-21-2"><a href="#__codelineno-21-2" id="__codelineno-21-2" name="__codelineno-21-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count &gt;= 95% of historical_avg(row_count)</span>
</span></code></pre></div>
<h3 id="filtering-checks">Filtering Checks<a class="headerlink" href="#filtering-checks" title="Link to this section">¶</a></h3>
<p>Sometimes you want to apply checks to a subset of your data. Maybe you only care about completed orders, or US customers. That's where filters come in:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-22-1"><a href="#__codelineno-22-1" id="__codelineno-22-1" name="__codelineno-22-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-22-2"><a href="#__codelineno-22-2" id="__codelineno-22-2" name="__codelineno-22-2"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-22-3"><a href="#__codelineno-22-3" id="__codelineno-22-3" name="__codelineno-22-3"></a><span class="w">    </span><span class="nt">filter</span><span class="p">:</span><span class="w"> </span><span class="s">"status</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">'completed'</span><span class="nv"> </span><span class="s">AND</span><span class="nv"> </span><span class="s">order_date</span><span class="nv"> </span><span class="s">&gt;=</span><span class="nv"> </span><span class="s">CURRENT_DATE</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">INTERVAL</span><span class="nv"> </span><span class="s">'30</span><span class="nv"> </span><span class="s">days'"</span>
</span><span id="__span-22-4"><a href="#__codelineno-22-4" id="__codelineno-22-4" name="__codelineno-22-4"></a>
</span><span id="__span-22-5"><a href="#__codelineno-22-5" id="__codelineno-22-5" name="__codelineno-22-5"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-22-6"><a href="#__codelineno-22-6" id="__codelineno-22-6" name="__codelineno-22-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">missing_count(customer_id) = 0</span><span class="p">:</span>
</span><span id="__span-22-7"><a href="#__codelineno-22-7" id="__codelineno-22-7" name="__codelineno-22-7"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">completed_orders_have_customers</span>
</span></code></pre></div>
<p><strong>Multiple filters:</strong></p>
<p>You can define the same table multiple times with different filters:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-23-1"><a href="#__codelineno-23-1" id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-23-2"><a href="#__codelineno-23-2" id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="w">  </span><span class="nt">analytics.customers</span><span class="p">:</span>
</span><span id="__span-23-3"><a href="#__codelineno-23-3" id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="w">    </span><span class="nt">filter</span><span class="p">:</span><span class="w"> </span><span class="s">"country</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">'US'"</span>
</span><span id="__span-23-4"><a href="#__codelineno-23-4" id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-23-5"><a href="#__codelineno-23-5" id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count &gt; 1000</span>
</span><span id="__span-23-6"><a href="#__codelineno-23-6" id="__codelineno-23-6" name="__codelineno-23-6"></a>
</span><span id="__span-23-7"><a href="#__codelineno-23-7" id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="w">  </span><span class="nt">analytics.customers</span><span class="p">:</span>
</span><span id="__span-23-8"><a href="#__codelineno-23-8" id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="w">    </span><span class="nt">filter</span><span class="p">:</span><span class="w"> </span><span class="s">"country</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">'EU'"</span>
</span><span id="__span-23-9"><a href="#__codelineno-23-9" id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-23-10"><a href="#__codelineno-23-10" id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count &gt; 500</span>
</span></code></pre></div>
<p>This lets you have different expectations for different regions.</p>
<h3 id="check-attributes">Check Attributes<a class="headerlink" href="#check-attributes" title="Link to this section">¶</a></h3>
<p>Add metadata to your checks to make them easier to manage and understand:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-24-1"><a href="#__codelineno-24-1" id="__codelineno-24-1" name="__codelineno-24-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-24-2"><a href="#__codelineno-24-2" id="__codelineno-24-2" name="__codelineno-24-2"></a><span class="w">  </span><span class="nt">analytics.revenue</span><span class="p">:</span>
</span><span id="__span-24-3"><a href="#__codelineno-24-3" id="__codelineno-24-3" name="__codelineno-24-3"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-24-4"><a href="#__codelineno-24-4" id="__codelineno-24-4" name="__codelineno-24-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">row_count &gt; 1000</span><span class="p">:</span>
</span><span id="__span-24-5"><a href="#__codelineno-24-5" id="__codelineno-24-5" name="__codelineno-24-5"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sufficient_revenue_data</span>
</span><span id="__span-24-6"><a href="#__codelineno-24-6" id="__codelineno-24-6" name="__codelineno-24-6"></a><span class="w">          </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-24-7"><a href="#__codelineno-24-7" id="__codelineno-24-7" name="__codelineno-24-7"></a><span class="w">            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Revenue</span><span class="nv"> </span><span class="s">table</span><span class="nv"> </span><span class="s">must</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">at</span><span class="nv"> </span><span class="s">least</span><span class="nv"> </span><span class="s">1000</span><span class="nv"> </span><span class="s">rows</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">analysis"</span>
</span><span id="__span-24-8"><a href="#__codelineno-24-8" id="__codelineno-24-8" name="__codelineno-24-8"></a><span class="w">            </span><span class="nt">severity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">error</span>
</span><span id="__span-24-9"><a href="#__codelineno-24-9" id="__codelineno-24-9" name="__codelineno-24-9"></a><span class="w">            </span><span class="nt">tags</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">critical</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">daily</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">revenue</span><span class="p p-Indicator">]</span>
</span><span id="__span-24-10"><a href="#__codelineno-24-10" id="__codelineno-24-10" name="__codelineno-24-10"></a><span class="w">            </span><span class="nt">owner</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data-team</span>
</span><span id="__span-24-11"><a href="#__codelineno-24-11" id="__codelineno-24-11" name="__codelineno-24-11"></a><span class="w">            </span><span class="nt">jira</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DATA-1234</span>
</span><span id="__span-24-12"><a href="#__codelineno-24-12" id="__codelineno-24-12" name="__codelineno-24-12"></a><span class="w">            </span><span class="nt">sla</span><span class="p">:</span><span class="w"> </span><span class="s">"&lt;</span><span class="nv"> </span><span class="s">1</span><span class="nv"> </span><span class="s">hour"</span>
</span></code></pre></div>
<p><strong>Standard attributes:</strong></p>
<ul>
<li>
<p><code>description</code> - Human-readable explanation</p>
</li>
<li>
<p><code>severity</code> - <code>error</code> (default) or <code>warning</code> (warnings are less urgent)</p>
</li>
<li>
<p><code>tags</code> - List of tags for filtering/organization (find all "critical" checks easily)</p>
</li>
<li>
<p><code>owner</code> - Team or person responsible (who do I call when this fails?)</p>
</li>
<li>
<p>Custom attributes - Any key-value pairs (add whatever metadata you need)</p>
</li>
</ul>
<h2 id="built-in-check-types">Built-in Check Types<a class="headerlink" href="#built-in-check-types" title="Link to this section">¶</a></h2>
<p>Vulcan provides several built-in check types that cover most common scenarios. Let's walk through them:</p>
<h3 id="missing-data-checks">Missing Data Checks<a class="headerlink" href="#missing-data-checks" title="Link to this section">¶</a></h3>
<h4 id="missing_countcolumn"><code>missing_count(column)</code><a class="headerlink" href="#missing_countcolumn" title="Link to this section">¶</a></h4>
<p>Count of NULL values. Simple and straightforward:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-25-1"><a href="#__codelineno-25-1" id="__codelineno-25-1" name="__codelineno-25-1"></a><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-25-2"><a href="#__codelineno-25-2" id="__codelineno-25-2" name="__codelineno-25-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">missing_count(email) = 0</span><span class="p">:</span>
</span><span id="__span-25-3"><a href="#__codelineno-25-3" id="__codelineno-25-3" name="__codelineno-25-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">no_missing_emails</span>
</span><span id="__span-25-4"><a href="#__codelineno-25-4" id="__codelineno-25-4" name="__codelineno-25-4"></a>
</span><span id="__span-25-5"><a href="#__codelineno-25-5" id="__codelineno-25-5" name="__codelineno-25-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">missing_count(phone) &lt;= 100</span><span class="p">:</span>
</span><span id="__span-25-6"><a href="#__codelineno-25-6" id="__codelineno-25-6" name="__codelineno-25-6"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">phone_mostly_complete</span>
</span></code></pre></div>
<p>The first ensures zero missing emails (strict). The second allows up to 100 missing phone numbers (maybe phones are optional for some customers).</p>
<h4 id="missing_percentcolumn"><code>missing_percent(column)</code><a class="headerlink" href="#missing_percentcolumn" title="Link to this section">¶</a></h4>
<p>Percentage of NULL values. Useful when you care about proportions rather than absolute counts:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-26-1"><a href="#__codelineno-26-1" id="__codelineno-26-1" name="__codelineno-26-1"></a><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-26-2"><a href="#__codelineno-26-2" id="__codelineno-26-2" name="__codelineno-26-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">missing_percent(email) &lt; 5</span><span class="p">:</span>
</span><span id="__span-26-3"><a href="#__codelineno-26-3" id="__codelineno-26-3" name="__codelineno-26-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">email_95_percent_complete</span>
</span><span id="__span-26-4"><a href="#__codelineno-26-4" id="__codelineno-26-4" name="__codelineno-26-4"></a>
</span><span id="__span-26-5"><a href="#__codelineno-26-5" id="__codelineno-26-5" name="__codelineno-26-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">missing_percent(optional_field) &lt; 50</span><span class="p">:</span>
</span><span id="__span-26-6"><a href="#__codelineno-26-6" id="__codelineno-26-6" name="__codelineno-26-6"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">optional_field_half_complete</span>
</span></code></pre></div>
<p>This is useful when table sizes vary. 5% missing might be fine for a million-row table but concerning for a hundred-row table.</p>
<h3 id="row-count-checks">Row Count Checks<a class="headerlink" href="#row-count-checks" title="Link to this section">¶</a></h3>
<h4 id="row_count"><code>row_count</code><a class="headerlink" href="#row_count" title="Link to this section">¶</a></h4>
<p>Total rows in table. Use this to ensure you have enough data:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-27-1"><a href="#__codelineno-27-1" id="__codelineno-27-1" name="__codelineno-27-1"></a><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-27-2"><a href="#__codelineno-27-2" id="__codelineno-27-2" name="__codelineno-27-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">row_count &gt; 1000</span><span class="p">:</span>
</span><span id="__span-27-3"><a href="#__codelineno-27-3" id="__codelineno-27-3" name="__codelineno-27-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sufficient_data</span>
</span><span id="__span-27-4"><a href="#__codelineno-27-4" id="__codelineno-27-4" name="__codelineno-27-4"></a>
</span><span id="__span-27-5"><a href="#__codelineno-27-5" id="__codelineno-27-5" name="__codelineno-27-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">row_count between 1000 and 100000</span><span class="p">:</span>
</span><span id="__span-27-6"><a href="#__codelineno-27-6" id="__codelineno-27-6" name="__codelineno-27-6"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">expected_row_range</span>
</span></code></pre></div>
<p>The second example shows a range check, maybe you know your table should be between 1K and 100K rows, and anything outside that range is suspicious.</p>
<h4 id="row_count-with-filter"><code>row_count</code> with filter<a class="headerlink" href="#row_count-with-filter" title="Link to this section">¶</a></h4>
<p>You can also check row counts on filtered data:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-28-1"><a href="#__codelineno-28-1" id="__codelineno-28-1" name="__codelineno-28-1"></a><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-28-2"><a href="#__codelineno-28-2" id="__codelineno-28-2" name="__codelineno-28-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">row_count &gt; 500</span><span class="p">:</span>
</span><span id="__span-28-3"><a href="#__codelineno-28-3" id="__codelineno-28-3" name="__codelineno-28-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sufficient_active_users</span>
</span><span id="__span-28-4"><a href="#__codelineno-28-4" id="__codelineno-28-4" name="__codelineno-28-4"></a><span class="w">      </span><span class="nt">filter</span><span class="p">:</span><span class="w"> </span><span class="s">"status</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">'active'"</span>
</span></code></pre></div>
<p>This checks that you have at least 500 active users, regardless of how many total users you have.</p>
<h3 id="duplicate-count-checks">Duplicate Count Checks<a class="headerlink" href="#duplicate-count-checks" title="Link to this section">¶</a></h3>
<h4 id="duplicate_countcolumn"><code>duplicate_count(column)</code><a class="headerlink" href="#duplicate_countcolumn" title="Link to this section">¶</a></h4>
<p>Count of duplicate values. Perfect for ensuring uniqueness:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-29-1"><a href="#__codelineno-29-1" id="__codelineno-29-1" name="__codelineno-29-1"></a><span class="nt">uniqueness</span><span class="p">:</span>
</span><span id="__span-29-2"><a href="#__codelineno-29-2" id="__codelineno-29-2" name="__codelineno-29-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">duplicate_count(email) = 0</span><span class="p">:</span>
</span><span id="__span-29-3"><a href="#__codelineno-29-3" id="__codelineno-29-3" name="__codelineno-29-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unique_emails</span>
</span><span id="__span-29-4"><a href="#__codelineno-29-4" id="__codelineno-29-4" name="__codelineno-29-4"></a>
</span><span id="__span-29-5"><a href="#__codelineno-29-5" id="__codelineno-29-5" name="__codelineno-29-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">duplicate_count(customer_id) = 0</span><span class="p">:</span>
</span><span id="__span-29-6"><a href="#__codelineno-29-6" id="__codelineno-29-6" name="__codelineno-29-6"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unique_customer_ids</span>
</span></code></pre></div>
<p>If this returns anything greater than zero, you've got duplicates. The check fails and you can investigate.</p>
<h4 id="duplicate_countcolumn1-column2"><code>duplicate_count(column1, column2)</code><a class="headerlink" href="#duplicate_countcolumn1-column2" title="Link to this section">¶</a></h4>
<p>Composite key duplicates. Check combinations of columns:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-30-1"><a href="#__codelineno-30-1" id="__codelineno-30-1" name="__codelineno-30-1"></a><span class="nt">uniqueness</span><span class="p">:</span>
</span><span id="__span-30-2"><a href="#__codelineno-30-2" id="__codelineno-30-2" name="__codelineno-30-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">duplicate_count(customer_id, order_date) = 0</span><span class="p p-Indicator">:</span>
</span><span id="__span-30-3"><a href="#__codelineno-30-3" id="__codelineno-30-3" name="__codelineno-30-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">unique_customer_date</span>
</span><span id="__span-30-4"><a href="#__codelineno-30-4" id="__codelineno-30-4" name="__codelineno-30-4"></a><span class="w">      </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-30-5"><a href="#__codelineno-30-5" id="__codelineno-30-5" name="__codelineno-30-5"></a><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Each</span><span class="nv"> </span><span class="s">customer</span><span class="nv"> </span><span class="s">can</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">at</span><span class="nv"> </span><span class="s">most</span><span class="nv"> </span><span class="s">one</span><span class="nv"> </span><span class="s">order</span><span class="nv"> </span><span class="s">per</span><span class="nv"> </span><span class="s">day"</span>
</span></code></pre></div>
<p>Maybe customers can have multiple orders, but only one per day. This check enforces that business rule.</p>
<h3 id="failed-rows-checks">Failed Rows Checks<a class="headerlink" href="#failed-rows-checks" title="Link to this section">¶</a></h3>
<h4 id="sql-based-validation-with-samples">SQL-based validation with samples<a class="headerlink" href="#sql-based-validation-with-samples" title="Link to this section">¶</a></h4>
<p>This is the most flexible check type, you can write any SQL query you want:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-31-1"><a href="#__codelineno-31-1" id="__codelineno-31-1" name="__codelineno-31-1"></a><span class="nt">validity</span><span class="p">:</span>
</span><span id="__span-31-2"><a href="#__codelineno-31-2" id="__codelineno-31-2" name="__codelineno-31-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-31-3"><a href="#__codelineno-31-3" id="__codelineno-31-3" name="__codelineno-31-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">invalid_revenue</span>
</span><span id="__span-31-4"><a href="#__codelineno-31-4" id="__codelineno-31-4" name="__codelineno-31-4"></a><span class="w">      </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-31-5"><a href="#__codelineno-31-5" id="__codelineno-31-5" name="__codelineno-31-5"></a><span class="w">        </span><span class="no">SELECT customer_id, revenue, order_date</span>
</span><span id="__span-31-6"><a href="#__codelineno-31-6" id="__codelineno-31-6" name="__codelineno-31-6"></a><span class="w">        </span><span class="no">FROM analytics.orders</span>
</span><span id="__span-31-7"><a href="#__codelineno-31-7" id="__codelineno-31-7" name="__codelineno-31-7"></a><span class="w">        </span><span class="no">WHERE revenue &lt; 0 OR revenue &gt; 10000000</span>
</span><span id="__span-31-8"><a href="#__codelineno-31-8" id="__codelineno-31-8" name="__codelineno-31-8"></a><span class="w">      </span><span class="nt">samples limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
</span><span id="__span-31-9"><a href="#__codelineno-31-9" id="__codelineno-31-9" name="__codelineno-31-9"></a><span class="w">      </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-31-10"><a href="#__codelineno-31-10" id="__codelineno-31-10" name="__codelineno-31-10"></a><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Revenue</span><span class="nv"> </span><span class="s">must</span><span class="nv"> </span><span class="s">be</span><span class="nv"> </span><span class="s">between</span><span class="nv"> </span><span class="s">0</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">10M"</span>
</span></code></pre></div>
<p><strong>How it works:</strong></p>
<ul>
<li>
<p><code>fail query</code> - A SELECT statement that returns invalid rows</p>
</li>
<li>
<p><code>samples limit</code> - How many example rows to capture when the check fails (default: 5)</p>
</li>
<li>
<p>Returns empty = check passes (no invalid rows found)</p>
</li>
<li>
<p>Returns rows = check fails (captures samples so you can see what's wrong)</p>
</li>
</ul>
<p><strong>Complex validation:</strong></p>
<p>You can get fancy with joins and CTEs:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-32-1"><a href="#__codelineno-32-1" id="__codelineno-32-1" name="__codelineno-32-1"></a><span class="nt">validity</span><span class="p">:</span>
</span><span id="__span-32-2"><a href="#__codelineno-32-2" id="__codelineno-32-2" name="__codelineno-32-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-32-3"><a href="#__codelineno-32-3" id="__codelineno-32-3" name="__codelineno-32-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">orphaned_orders</span>
</span><span id="__span-32-4"><a href="#__codelineno-32-4" id="__codelineno-32-4" name="__codelineno-32-4"></a><span class="w">      </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-32-5"><a href="#__codelineno-32-5" id="__codelineno-32-5" name="__codelineno-32-5"></a><span class="w">        </span><span class="no">SELECT o.order_id, o.customer_id</span>
</span><span id="__span-32-6"><a href="#__codelineno-32-6" id="__codelineno-32-6" name="__codelineno-32-6"></a><span class="w">        </span><span class="no">FROM analytics.orders o</span>
</span><span id="__span-32-7"><a href="#__codelineno-32-7" id="__codelineno-32-7" name="__codelineno-32-7"></a><span class="w">        </span><span class="no">LEFT JOIN analytics.customers c ON o.customer_id = c.customer_id</span>
</span><span id="__span-32-8"><a href="#__codelineno-32-8" id="__codelineno-32-8" name="__codelineno-32-8"></a><span class="w">        </span><span class="no">WHERE c.customer_id IS NULL</span>
</span><span id="__span-32-9"><a href="#__codelineno-32-9" id="__codelineno-32-9" name="__codelineno-32-9"></a><span class="w">      </span><span class="nt">samples limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span></code></pre></div>
<p>This finds orders that reference customers that don't exist, a classic referential integrity check.</p>
<h3 id="threshold-checks">Threshold Checks<a class="headerlink" href="#threshold-checks" title="Link to this section">¶</a></h3>
<h4 id="numeric-aggregations">Numeric aggregations<a class="headerlink" href="#numeric-aggregations" title="Link to this section">¶</a></h4>
<p>Check aggregated values against thresholds:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-33-1"><a href="#__codelineno-33-1" id="__codelineno-33-1" name="__codelineno-33-1"></a><span class="nt">accuracy</span><span class="p">:</span>
</span><span id="__span-33-2"><a href="#__codelineno-33-2" id="__codelineno-33-2" name="__codelineno-33-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">avg(revenue) between 100 and 10000</span><span class="p">:</span>
</span><span id="__span-33-3"><a href="#__codelineno-33-3" id="__codelineno-33-3" name="__codelineno-33-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">revenue_in_expected_range</span>
</span><span id="__span-33-4"><a href="#__codelineno-33-4" id="__codelineno-33-4" name="__codelineno-33-4"></a>
</span><span id="__span-33-5"><a href="#__codelineno-33-5" id="__codelineno-33-5" name="__codelineno-33-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">sum(amount) &gt; 1000000</span><span class="p">:</span>
</span><span id="__span-33-6"><a href="#__codelineno-33-6" id="__codelineno-33-6" name="__codelineno-33-6"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sufficient_total_revenue</span>
</span><span id="__span-33-7"><a href="#__codelineno-33-7" id="__codelineno-33-7" name="__codelineno-33-7"></a>
</span><span id="__span-33-8"><a href="#__codelineno-33-8" id="__codelineno-33-8" name="__codelineno-33-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">max(age) &lt;= 120</span><span class="p">:</span>
</span><span id="__span-33-9"><a href="#__codelineno-33-9" id="__codelineno-33-9" name="__codelineno-33-9"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">age_within_human_range</span>
</span><span id="__span-33-10"><a href="#__codelineno-33-10" id="__codelineno-33-10" name="__codelineno-33-10"></a>
</span><span id="__span-33-11"><a href="#__codelineno-33-11" id="__codelineno-33-11" name="__codelineno-33-11"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">min(price) &gt;= 0</span><span class="p">:</span>
</span><span id="__span-33-12"><a href="#__codelineno-33-12" id="__codelineno-33-12" name="__codelineno-33-12"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">non_negative_prices</span>
</span></code></pre></div>
<p>You can use any aggregation function: <code>avg</code>, <code>sum</code>, <code>min</code>, <code>max</code>, <code>count</code>, <code>distinct_count</code>, etc.</p>
<h4 id="statistical-checks">Statistical checks<a class="headerlink" href="#statistical-checks" title="Link to this section">¶</a></h4>
<p>Get fancy with statistical functions:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-34-1"><a href="#__codelineno-34-1" id="__codelineno-34-1" name="__codelineno-34-1"></a><span class="nt">accuracy</span><span class="p">:</span>
</span><span id="__span-34-2"><a href="#__codelineno-34-2" id="__codelineno-34-2" name="__codelineno-34-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">stddev(revenue) &lt; 5000</span><span class="p">:</span>
</span><span id="__span-34-3"><a href="#__codelineno-34-3" id="__codelineno-34-3" name="__codelineno-34-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">revenue_low_variance</span>
</span><span id="__span-34-4"><a href="#__codelineno-34-4" id="__codelineno-34-4" name="__codelineno-34-4"></a>
</span><span id="__span-34-5"><a href="#__codelineno-34-5" id="__codelineno-34-5" name="__codelineno-34-5"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">percentile(revenue, 95) &lt; 50000</span><span class="p p-Indicator">:</span>
</span><span id="__span-34-6"><a href="#__codelineno-34-6" id="__codelineno-34-6" name="__codelineno-34-6"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">revenue_95th_percentile_check</span>
</span></code></pre></div>
<p>These detect when your data distribution changes unexpectedly.</p>
<h3 id="anomaly-detection">Anomaly Detection<a class="headerlink" href="#anomaly-detection" title="Link to this section">¶</a></h3>
<h4 id="ml-based-anomaly-detection">ML-based anomaly detection<a class="headerlink" href="#ml-based-anomaly-detection" title="Link to this section">¶</a></h4>
<p>This is where checks get really powerful. Anomaly detection uses historical check results to learn what's normal and flag unusual patterns:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-35-1"><a href="#__codelineno-35-1" id="__codelineno-35-1" name="__codelineno-35-1"></a><span class="nt">accuracy</span><span class="p">:</span>
</span><span id="__span-35-2"><a href="#__codelineno-35-2" id="__codelineno-35-2" name="__codelineno-35-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">anomaly detection for row_count</span><span class="p">:</span>
</span><span id="__span-35-3"><a href="#__codelineno-35-3" id="__codelineno-35-3" name="__codelineno-35-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count_anomaly</span>
</span><span id="__span-35-4"><a href="#__codelineno-35-4" id="__codelineno-35-4" name="__codelineno-35-4"></a><span class="w">      </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-35-5"><a href="#__codelineno-35-5" id="__codelineno-35-5" name="__codelineno-35-5"></a><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Detect</span><span class="nv"> </span><span class="s">unusual</span><span class="nv"> </span><span class="s">changes</span><span class="nv"> </span><span class="s">in</span><span class="nv"> </span><span class="s">row</span><span class="nv"> </span><span class="s">count"</span>
</span><span id="__span-35-6"><a href="#__codelineno-35-6" id="__codelineno-35-6" name="__codelineno-35-6"></a>
</span><span id="__span-35-7"><a href="#__codelineno-35-7" id="__codelineno-35-7" name="__codelineno-35-7"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">anomaly detection for avg(revenue)</span><span class="p">:</span>
</span><span id="__span-35-8"><a href="#__codelineno-35-8" id="__codelineno-35-8" name="__codelineno-35-8"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">revenue_anomaly</span>
</span><span id="__span-35-9"><a href="#__codelineno-35-9" id="__codelineno-35-9" name="__codelineno-35-9"></a>
</span><span id="__span-35-10"><a href="#__codelineno-35-10" id="__codelineno-35-10" name="__codelineno-35-10"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">anomaly detection for distinct_count(customer_id)</span><span class="p">:</span>
</span><span id="__span-35-11"><a href="#__codelineno-35-11" id="__codelineno-35-11" name="__codelineno-35-11"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">customer_count_anomaly</span>
</span></code></pre></div>
<p><strong>How it works:</strong>
1. Collects historical metric values over time (every time the check runs)
2. Builds a statistical model (mean, standard deviation, trends)
3. Compares current value to expected range
4. Flags significant deviations (typically &gt; 3 standard deviations)</p>
<p><strong>Requirements:</strong></p>
<ul>
<li>
<p>Needs historical data (runs multiple times to build a baseline)</p>
</li>
<li>
<p>Works best with regular schedules (daily, hourly)</p>
</li>
<li>
<p>More accurate after 30+ data points (the more history, the better)</p>
</li>
</ul>
<p>So if you're setting up anomaly detection, be patient, it needs to run a few times before it's useful. But once it has enough data, it's really good at spotting problems you might not think to check for.</p>
<h3 id="change-over-time-checks">Change Over Time Checks<a class="headerlink" href="#change-over-time-checks" title="Link to this section">¶</a></h3>
<h4 id="monitor-changes-compared-to-previous-run">Monitor changes compared to previous run<a class="headerlink" href="#monitor-changes-compared-to-previous-run" title="Link to this section">¶</a></h4>
<p>Track how metrics change between runs:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-36-1"><a href="#__codelineno-36-1" id="__codelineno-36-1" name="__codelineno-36-1"></a><span class="nt">timeliness</span><span class="p">:</span>
</span><span id="__span-36-2"><a href="#__codelineno-36-2" id="__codelineno-36-2" name="__codelineno-36-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">change for row_count &gt;= -50%</span><span class="p">:</span>
</span><span id="__span-36-3"><a href="#__codelineno-36-3" id="__codelineno-36-3" name="__codelineno-36-3"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count_drop_alert</span>
</span><span id="__span-36-4"><a href="#__codelineno-36-4" id="__codelineno-36-4" name="__codelineno-36-4"></a><span class="w">      </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-36-5"><a href="#__codelineno-36-5" id="__codelineno-36-5" name="__codelineno-36-5"></a><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Alert</span><span class="nv"> </span><span class="s">if</span><span class="nv"> </span><span class="s">row</span><span class="nv"> </span><span class="s">count</span><span class="nv"> </span><span class="s">drops</span><span class="nv"> </span><span class="s">more</span><span class="nv"> </span><span class="s">than</span><span class="nv"> </span><span class="s">50%</span><span class="nv"> </span><span class="s">from</span><span class="nv"> </span><span class="s">last</span><span class="nv"> </span><span class="s">week"</span>
</span><span id="__span-36-6"><a href="#__codelineno-36-6" id="__codelineno-36-6" name="__codelineno-36-6"></a>
</span><span id="__span-36-7"><a href="#__codelineno-36-7" id="__codelineno-36-7" name="__codelineno-36-7"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">change for avg(revenue) &gt;= -20%</span><span class="p">:</span>
</span><span id="__span-36-8"><a href="#__codelineno-36-8" id="__codelineno-36-8" name="__codelineno-36-8"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">revenue_drop_alert</span>
</span><span id="__span-36-9"><a href="#__codelineno-36-9" id="__codelineno-36-9" name="__codelineno-36-9"></a>
</span><span id="__span-36-10"><a href="#__codelineno-36-10" id="__codelineno-36-10" name="__codelineno-36-10"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">change for distinct_count(customer_id) &gt;= 10%</span><span class="p">:</span>
</span><span id="__span-36-11"><a href="#__codelineno-36-11" id="__codelineno-36-11" name="__codelineno-36-11"></a><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">customer_growth_check</span>
</span></code></pre></div>
<p><strong>Change calculation:</strong>
</p><div class="language-text highlight"><pre><span></span><code><span id="__span-37-1"><a href="#__codelineno-37-1" id="__codelineno-37-1" name="__codelineno-37-1"></a>change = (current_value - previous_value) / previous_value * 100
</span></code></pre></div><p></p>
<p><strong>Examples:</strong></p>
<ul>
<li>
<p><code>change &gt;= -30%</code> - Alert if metric drops more than 30% (negative change)</p>
</li>
<li>
<p><code>change &gt;= 10%</code> - Alert if metric grows more than 10% (positive change)</p>
</li>
<li>
<p><code>change between -10% and 10%</code> - Alert if metric changes more than 10% either way</p>
</li>
</ul>
<p>This catches sudden changes that might indicate a problem or an opportunity.</p>
<h2 id="data-profiling">Data Profiling<a class="headerlink" href="#data-profiling" title="Link to this section">¶</a></h2>
<h3 id="what-is-profiling">What is Profiling?<a class="headerlink" href="#what-is-profiling" title="Link to this section">¶</a></h3>
<p><strong>Profiles automatically collect statistical metrics about your data over time.</strong></p>
<p>Unlike checks (which validate), profiles <strong>observe and track</strong> data characteristics. They're like a data scientist watching your tables and taking notes:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-38-1"><a href="#__codelineno-38-1" id="__codelineno-38-1" name="__codelineno-38-1"></a><span class="n">MODEL</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-38-2"><a href="#__codelineno-38-2" id="__codelineno-38-2" name="__codelineno-38-2"></a><span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="n">analytics</span><span class="p">.</span><span class="n">customers</span><span class="p">,</span>
</span><span id="__span-38-3"><a href="#__codelineno-38-3" id="__codelineno-38-3" name="__codelineno-38-3"></a><span class="w">  </span><span class="n">kind</span><span class="w"> </span><span class="k">FULL</span><span class="p">,</span>
</span><span id="__span-38-4"><a href="#__codelineno-38-4" id="__codelineno-38-4" name="__codelineno-38-4"></a><span class="w">  </span><span class="n">grains</span><span class="w"> </span><span class="p">(</span><span class="n">customer_id</span><span class="p">),</span>
</span><span id="__span-38-5"><a href="#__codelineno-38-5" id="__codelineno-38-5" name="__codelineno-38-5"></a><span class="w">  </span><span class="n">profiles</span><span class="w"> </span><span class="p">(</span><span class="n">revenue</span><span class="p">,</span><span class="w"> </span><span class="n">signup_date</span><span class="p">,</span><span class="w"> </span><span class="n">customer_tier</span><span class="p">,</span><span class="w"> </span><span class="n">order_count</span><span class="p">)</span>
</span><span id="__span-38-6"><a href="#__codelineno-38-6" id="__codelineno-38-6" name="__codelineno-38-6"></a><span class="p">);</span>
</span></code></pre></div>
<p><strong>What gets profiled:</strong></p>
<p><strong>Table-level metrics:</strong></p>
<ul>
<li>Row count</li>
</ul>
<p><strong>Column-level metrics (all columns):</strong></p>
<ul>
<li>
<p>Null count &amp; percentage</p>
</li>
<li>
<p>Distinct count</p>
</li>
<li>
<p>Duplicate count</p>
</li>
<li>
<p>Uniqueness percentage</p>
</li>
</ul>
<p><strong>Numeric columns:</strong></p>
<ul>
<li>
<p>Min, max, avg, sum</p>
</li>
<li>
<p>Standard deviation, variance</p>
</li>
<li>
<p>Histogram buckets</p>
</li>
</ul>
<p><strong>Text columns:</strong></p>
<ul>
<li>
<p>Min, max, avg length</p>
</li>
<li>
<p>Most frequent values</p>
</li>
</ul>
<p>Profiles track how things change over time so you can spot trends and drift.</p>
<h3 id="profile-configuration">Profile Configuration<a class="headerlink" href="#profile-configuration" title="Link to this section">¶</a></h3>
<p>Enable profiling in your MODEL definition:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-39-1"><a href="#__codelineno-39-1" id="__codelineno-39-1" name="__codelineno-39-1"></a><span class="n">MODEL</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-39-2"><a href="#__codelineno-39-2" id="__codelineno-39-2" name="__codelineno-39-2"></a><span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="n">analytics</span><span class="p">.</span><span class="n">revenue_metrics</span><span class="p">,</span>
</span><span id="__span-39-3"><a href="#__codelineno-39-3" id="__codelineno-39-3" name="__codelineno-39-3"></a><span class="w">  </span><span class="n">kind</span><span class="w"> </span><span class="n">INCREMENTAL_BY_TIME_RANGE</span><span class="w"> </span><span class="p">(</span><span class="n">time_column</span><span class="w"> </span><span class="n">metric_date</span><span class="p">),</span>
</span><span id="__span-39-4"><a href="#__codelineno-39-4" id="__codelineno-39-4" name="__codelineno-39-4"></a>
</span><span id="__span-39-5"><a href="#__codelineno-39-5" id="__codelineno-39-5" name="__codelineno-39-5"></a><span class="w">  </span><span class="c1">-- Profile these columns</span>
</span><span id="__span-39-6"><a href="#__codelineno-39-6" id="__codelineno-39-6" name="__codelineno-39-6"></a><span class="w">  </span><span class="n">profiles</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-39-7"><a href="#__codelineno-39-7" id="__codelineno-39-7" name="__codelineno-39-7"></a><span class="w">    </span><span class="n">revenue</span><span class="p">,</span>
</span><span id="__span-39-8"><a href="#__codelineno-39-8" id="__codelineno-39-8" name="__codelineno-39-8"></a><span class="w">    </span><span class="n">order_count</span><span class="p">,</span>
</span><span id="__span-39-9"><a href="#__codelineno-39-9" id="__codelineno-39-9" name="__codelineno-39-9"></a><span class="w">    </span><span class="n">customer_tier</span><span class="p">,</span>
</span><span id="__span-39-10"><a href="#__codelineno-39-10" id="__codelineno-39-10" name="__codelineno-39-10"></a><span class="w">    </span><span class="n">region</span>
</span><span id="__span-39-11"><a href="#__codelineno-39-11" id="__codelineno-39-11" name="__codelineno-39-11"></a><span class="w">  </span><span class="p">)</span>
</span><span id="__span-39-12"><a href="#__codelineno-39-12" id="__codelineno-39-12" name="__codelineno-39-12"></a><span class="p">);</span>
</span></code></pre></div>
<p>Just list the columns you want to profile. Vulcan will automatically collect metrics for them every time the model runs.</p>
<h3 id="profile-storage">Profile Storage<a class="headerlink" href="#profile-storage" title="Link to this section">¶</a></h3>
<p>Profiles are stored in the <code>_check_profiles</code> table, which you can query like any other table:</p>
<table>
<thead>
<tr>
<th>Column</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>Unique identifier for this metric row</td>
</tr>
<tr>
<td><code>run_id</code></td>
<td>Identifies which profiling run this metric belongs to</td>
</tr>
<tr>
<td><code>table_name</code></td>
<td>Name of the table being profiled</td>
</tr>
<tr>
<td><code>column_name</code></td>
<td>Name of the column being profiled (NULL for table-level metrics like row_count)</td>
</tr>
<tr>
<td><code>profile_type</code></td>
<td>The type of metric, e.g., row_count, distinct, missing_count, frequent_values, min, max, avg_length, etc.</td>
</tr>
<tr>
<td><code>value_number</code></td>
<td>Numeric metric value (for metrics like row_count, distinct, min, max, avg, etc.)</td>
</tr>
<tr>
<td><code>value_text</code></td>
<td>Used for text values (rare)</td>
</tr>
<tr>
<td><code>value_json</code></td>
<td>JSON-encoded metric (for histograms, frequent values, etc.)</td>
</tr>
<tr>
<td><code>value_type</code></td>
<td>Type of value stored (number, json, etc.)</td>
</tr>
<tr>
<td><code>profiled_at</code></td>
<td>When the profiling was performed (epoch ms)</td>
</tr>
<tr>
<td><code>created_ts</code></td>
<td>When the row was inserted</td>
</tr>
</tbody>
</table>
<h3 id="querying-profiles">Querying Profiles<a class="headerlink" href="#querying-profiles" title="Link to this section">¶</a></h3>
<h4 id="track-missing-count-over-time">Track missing count over time<a class="headerlink" href="#track-missing-count-over-time" title="Link to this section">¶</a></h4>
<p>See how null percentages change:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-40-1"><a href="#__codelineno-40-1" id="__codelineno-40-1" name="__codelineno-40-1"></a><span class="k">SELECT</span>
</span><span id="__span-40-2"><a href="#__codelineno-40-2" id="__codelineno-40-2" name="__codelineno-40-2"></a><span class="w">  </span><span class="n">to_timestamp</span><span class="p">(</span><span class="n">profiled_at</span><span class="o">/</span><span class="mi">1000</span><span class="p">)::</span><span class="nb">date</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">date</span><span class="p">,</span>
</span><span id="__span-40-3"><a href="#__codelineno-40-3" id="__codelineno-40-3" name="__codelineno-40-3"></a><span class="w">  </span><span class="n">value_number</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">missing_count</span>
</span><span id="__span-40-4"><a href="#__codelineno-40-4" id="__codelineno-40-4" name="__codelineno-40-4"></a><span class="k">FROM</span><span class="w"> </span><span class="n">_check_profiles</span>
</span><span id="__span-40-5"><a href="#__codelineno-40-5" id="__codelineno-40-5" name="__codelineno-40-5"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'warehouse.hello.subscriptions'</span>
</span><span id="__span-40-6"><a href="#__codelineno-40-6" id="__codelineno-40-6" name="__codelineno-40-6"></a><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="k">column_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'mrr'</span>
</span><span id="__span-40-7"><a href="#__codelineno-40-7" id="__codelineno-40-7" name="__codelineno-40-7"></a><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">profile_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'missing_count'</span>
</span><span id="__span-40-8"><a href="#__codelineno-40-8" id="__codelineno-40-8" name="__codelineno-40-8"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">profiled_at</span><span class="w"> </span><span class="k">DESC</span>
</span><span id="__span-40-9"><a href="#__codelineno-40-9" id="__codelineno-40-9" name="__codelineno-40-9"></a><span class="k">LIMIT</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w">  </span><span class="c1">-- Last 30 days</span>
</span></code></pre></div>
<p>This shows you a time series of missing values for spotting trends.</p>
<h4 id="monitor-data-drift">Monitor data drift<a class="headerlink" href="#monitor-data-drift" title="Link to this section">¶</a></h4>
<p>Compare current values to historical averages:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-41-1"><a href="#__codelineno-41-1" id="__codelineno-41-1" name="__codelineno-41-1"></a><span class="k">WITH</span><span class="w"> </span><span class="n">latest_profile</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-41-2"><a href="#__codelineno-41-2" id="__codelineno-41-2" name="__codelineno-41-2"></a><span class="w">  </span><span class="c1">-- Pick the most recent profiling timestamp for that table/column</span>
</span><span id="__span-41-3"><a href="#__codelineno-41-3" id="__codelineno-41-3" name="__codelineno-41-3"></a><span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">profiled_at</span>
</span><span id="__span-41-4"><a href="#__codelineno-41-4" id="__codelineno-41-4" name="__codelineno-41-4"></a><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">_check_profiles</span>
</span><span id="__span-41-5"><a href="#__codelineno-41-5" id="__codelineno-41-5" name="__codelineno-41-5"></a><span class="w">  </span><span class="k">WHERE</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'warehouse.hello.subscriptions'</span>
</span><span id="__span-41-6"><a href="#__codelineno-41-6" id="__codelineno-41-6" name="__codelineno-41-6"></a><span class="w">    </span><span class="k">AND</span><span class="w"> </span><span class="k">column_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'mrr'</span>
</span><span id="__span-41-7"><a href="#__codelineno-41-7" id="__codelineno-41-7" name="__codelineno-41-7"></a><span class="w">  </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">profiled_at</span><span class="w"> </span><span class="k">DESC</span>
</span><span id="__span-41-8"><a href="#__codelineno-41-8" id="__codelineno-41-8" name="__codelineno-41-8"></a><span class="w">  </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-41-9"><a href="#__codelineno-41-9" id="__codelineno-41-9" name="__codelineno-41-9"></a><span class="p">),</span>
</span><span id="__span-41-10"><a href="#__codelineno-41-10" id="__codelineno-41-10" name="__codelineno-41-10"></a>
</span><span id="__span-41-11"><a href="#__codelineno-41-11" id="__codelineno-41-11" name="__codelineno-41-11"></a><span class="k">current</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-41-12"><a href="#__codelineno-41-12" id="__codelineno-41-12" name="__codelineno-41-12"></a><span class="w">  </span><span class="c1">-- Get the most recent distinct count and average value from that profiling run</span>
</span><span id="__span-41-13"><a href="#__codelineno-41-13" id="__codelineno-41-13" name="__codelineno-41-13"></a><span class="w">  </span><span class="k">SELECT</span>
</span><span id="__span-41-14"><a href="#__codelineno-41-14" id="__codelineno-41-14" name="__codelineno-41-14"></a><span class="w">    </span><span class="k">MAX</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">profile_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'distinct'</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">value_number</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w">     </span><span class="k">AS</span><span class="w"> </span><span class="n">distinct_count</span><span class="p">,</span>
</span><span id="__span-41-15"><a href="#__codelineno-41-15" id="__codelineno-41-15" name="__codelineno-41-15"></a><span class="w">    </span><span class="k">MAX</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">profile_type</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">'avg'</span><span class="p">,</span><span class="w"> </span><span class="s1">'mean'</span><span class="p">,</span><span class="w"> </span><span class="s1">'average'</span><span class="p">,</span><span class="w"> </span><span class="s1">'avg_value'</span><span class="p">)</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">value_number</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">avg_value</span>
</span><span id="__span-41-16"><a href="#__codelineno-41-16" id="__codelineno-41-16" name="__codelineno-41-16"></a><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">_check_profiles</span><span class="w"> </span><span class="n">p</span>
</span><span id="__span-41-17"><a href="#__codelineno-41-17" id="__codelineno-41-17" name="__codelineno-41-17"></a><span class="w">  </span><span class="k">JOIN</span><span class="w"> </span><span class="n">latest_profile</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="n">profiled_at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">profiled_at</span>
</span><span id="__span-41-18"><a href="#__codelineno-41-18" id="__codelineno-41-18" name="__codelineno-41-18"></a><span class="w">  </span><span class="k">WHERE</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="k">table_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'warehouse.hello.subscriptions'</span>
</span><span id="__span-41-19"><a href="#__codelineno-41-19" id="__codelineno-41-19" name="__codelineno-41-19"></a><span class="w">    </span><span class="k">AND</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="k">column_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'mrr'</span>
</span><span id="__span-41-20"><a href="#__codelineno-41-20" id="__codelineno-41-20" name="__codelineno-41-20"></a><span class="p">),</span>
</span><span id="__span-41-21"><a href="#__codelineno-41-21" id="__codelineno-41-21" name="__codelineno-41-21"></a>
</span><span id="__span-41-22"><a href="#__codelineno-41-22" id="__codelineno-41-22" name="__codelineno-41-22"></a><span class="n">historical</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-41-23"><a href="#__codelineno-41-23" id="__codelineno-41-23" name="__codelineno-41-23"></a><span class="w">  </span><span class="c1">-- 30-day historical averages (profiled_at stored as epoch ms → convert to timestamp)</span>
</span><span id="__span-41-24"><a href="#__codelineno-41-24" id="__codelineno-41-24" name="__codelineno-41-24"></a><span class="w">  </span><span class="k">SELECT</span>
</span><span id="__span-41-25"><a href="#__codelineno-41-25" id="__codelineno-41-25" name="__codelineno-41-25"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">profile_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'distinct'</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">value_number</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w">      </span><span class="k">AS</span><span class="w"> </span><span class="n">avg_distinct</span><span class="p">,</span>
</span><span id="__span-41-26"><a href="#__codelineno-41-26" id="__codelineno-41-26" name="__codelineno-41-26"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">profile_type</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">'avg'</span><span class="p">,</span><span class="w"> </span><span class="s1">'mean'</span><span class="p">,</span><span class="w"> </span><span class="s1">'average'</span><span class="p">,</span><span class="w"> </span><span class="s1">'avg_value'</span><span class="p">)</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">value_number</span><span class="w"> </span><span class="k">END</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">avg_mrr</span>
</span><span id="__span-41-27"><a href="#__codelineno-41-27" id="__codelineno-41-27" name="__codelineno-41-27"></a><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">_check_profiles</span>
</span><span id="__span-41-28"><a href="#__codelineno-41-28" id="__codelineno-41-28" name="__codelineno-41-28"></a><span class="w">  </span><span class="k">WHERE</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'warehouse.hello.subscriptions'</span>
</span><span id="__span-41-29"><a href="#__codelineno-41-29" id="__codelineno-41-29" name="__codelineno-41-29"></a><span class="w">    </span><span class="k">AND</span><span class="w"> </span><span class="k">column_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'mrr'</span>
</span><span id="__span-41-30"><a href="#__codelineno-41-30" id="__codelineno-41-30" name="__codelineno-41-30"></a><span class="w">    </span><span class="k">AND</span><span class="w"> </span><span class="n">to_timestamp</span><span class="p">(</span><span class="n">profiled_at</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="k">CURRENT_DATE</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="s1">'30 days'</span>
</span><span id="__span-41-31"><a href="#__codelineno-41-31" id="__codelineno-41-31" name="__codelineno-41-31"></a><span class="p">)</span>
</span><span id="__span-41-32"><a href="#__codelineno-41-32" id="__codelineno-41-32" name="__codelineno-41-32"></a>
</span><span id="__span-41-33"><a href="#__codelineno-41-33" id="__codelineno-41-33" name="__codelineno-41-33"></a><span class="k">SELECT</span>
</span><span id="__span-41-34"><a href="#__codelineno-41-34" id="__codelineno-41-34" name="__codelineno-41-34"></a><span class="w">  </span><span class="k">c</span><span class="p">.</span><span class="n">distinct_count</span><span class="p">,</span>
</span><span id="__span-41-35"><a href="#__codelineno-41-35" id="__codelineno-41-35" name="__codelineno-41-35"></a><span class="w">  </span><span class="n">h</span><span class="p">.</span><span class="n">avg_distinct</span><span class="p">,</span>
</span><span id="__span-41-36"><a href="#__codelineno-41-36" id="__codelineno-41-36" name="__codelineno-41-36"></a><span class="w">  </span><span class="k">CASE</span>
</span><span id="__span-41-37"><a href="#__codelineno-41-37" id="__codelineno-41-37" name="__codelineno-41-37"></a><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="n">avg_distinct</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="k">NULL</span>
</span><span id="__span-41-38"><a href="#__codelineno-41-38" id="__codelineno-41-38" name="__codelineno-41-38"></a><span class="w">    </span><span class="k">ELSE</span><span class="w"> </span><span class="p">(</span><span class="k">c</span><span class="p">.</span><span class="n">distinct_count</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="n">avg_distinct</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">NULLIF</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="n">avg_distinct</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-41-39"><a href="#__codelineno-41-39" id="__codelineno-41-39" name="__codelineno-41-39"></a><span class="w">  </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">distinct_change_pct</span><span class="p">,</span>
</span><span id="__span-41-40"><a href="#__codelineno-41-40" id="__codelineno-41-40" name="__codelineno-41-40"></a><span class="w">  </span><span class="k">c</span><span class="p">.</span><span class="n">avg_value</span><span class="p">,</span>
</span><span id="__span-41-41"><a href="#__codelineno-41-41" id="__codelineno-41-41" name="__codelineno-41-41"></a><span class="w">  </span><span class="n">h</span><span class="p">.</span><span class="n">avg_mrr</span><span class="p">,</span>
</span><span id="__span-41-42"><a href="#__codelineno-41-42" id="__codelineno-41-42" name="__codelineno-41-42"></a><span class="w">  </span><span class="k">CASE</span>
</span><span id="__span-41-43"><a href="#__codelineno-41-43" id="__codelineno-41-43" name="__codelineno-41-43"></a><span class="w">    </span><span class="k">WHEN</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="n">avg_mrr</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="k">NULL</span>
</span><span id="__span-41-44"><a href="#__codelineno-41-44" id="__codelineno-41-44" name="__codelineno-41-44"></a><span class="w">    </span><span class="k">ELSE</span><span class="w"> </span><span class="p">(</span><span class="k">c</span><span class="p">.</span><span class="n">avg_value</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="n">avg_mrr</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">NULLIF</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="n">avg_mrr</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">100</span>
</span><span id="__span-41-45"><a href="#__codelineno-41-45" id="__codelineno-41-45" name="__codelineno-41-45"></a><span class="w">  </span><span class="k">END</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">mrr_change_pct</span>
</span><span id="__span-41-46"><a href="#__codelineno-41-46" id="__codelineno-41-46" name="__codelineno-41-46"></a><span class="k">FROM</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="k">c</span><span class="p">,</span><span class="w"> </span><span class="n">historical</span><span class="w"> </span><span class="n">h</span><span class="p">;</span>
</span></code></pre></div>
<p>This query compares current metrics to 30-day historical averages and calculates percentage changes. Perfect for detecting drift!</p>
<h3 id="using-profiles-to-inform-checks">Using Profiles to Inform Checks<a class="headerlink" href="#using-profiles-to-inform-checks" title="Link to this section">¶</a></h3>
<p><strong>Workflow:</strong></p>
<ol>
<li><strong>Enable profiling</strong> on new models (just add <code>profiles (...)</code> to your MODEL)</li>
<li><strong>Observe patterns</strong> for 30+ days (let profiles collect data)</li>
<li><strong>Identify anomalies</strong> in profile data (query <code>_check_profiles</code> and look for trends)</li>
<li><strong>Create checks</strong> based on observed patterns (now you know what's normal)</li>
</ol>
<p><strong>Example:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-42-1"><a href="#__codelineno-42-1" id="__codelineno-42-1" name="__codelineno-42-1"></a><span class="c1">-- Step 1: Enable profiling</span>
</span><span id="__span-42-2"><a href="#__codelineno-42-2" id="__codelineno-42-2" name="__codelineno-42-2"></a><span class="n">MODEL</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-42-3"><a href="#__codelineno-42-3" id="__codelineno-42-3" name="__codelineno-42-3"></a><span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="n">analytics</span><span class="p">.</span><span class="n">orders</span><span class="p">,</span>
</span><span id="__span-42-4"><a href="#__codelineno-42-4" id="__codelineno-42-4" name="__codelineno-42-4"></a><span class="w">  </span><span class="n">profiles</span><span class="w"> </span><span class="p">(</span><span class="n">order_count</span><span class="p">,</span><span class="w"> </span><span class="n">revenue</span><span class="p">,</span><span class="w"> </span><span class="n">customer_tier</span><span class="p">)</span>
</span><span id="__span-42-5"><a href="#__codelineno-42-5" id="__codelineno-42-5" name="__codelineno-42-5"></a><span class="p">);</span>
</span></code></pre></div>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-43-1"><a href="#__codelineno-43-1" id="__codelineno-43-1" name="__codelineno-43-1"></a><span class="c1">-- Step 2: Query profiles after 30 days</span>
</span><span id="__span-43-2"><a href="#__codelineno-43-2" id="__codelineno-43-2" name="__codelineno-43-2"></a><span class="k">SELECT</span>
</span><span id="__span-43-3"><a href="#__codelineno-43-3" id="__codelineno-43-3" name="__codelineno-43-3"></a><span class="w">    </span><span class="k">MIN</span><span class="p">(</span><span class="n">value_number</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">min_revenue</span><span class="p">,</span>
</span><span id="__span-43-4"><a href="#__codelineno-43-4" id="__codelineno-43-4" name="__codelineno-43-4"></a><span class="w">    </span><span class="k">MAX</span><span class="p">(</span><span class="n">value_number</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">max_revenue</span><span class="p">,</span>
</span><span id="__span-43-5"><a href="#__codelineno-43-5" id="__codelineno-43-5" name="__codelineno-43-5"></a><span class="w">    </span><span class="k">AVG</span><span class="p">(</span><span class="n">value_number</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">typical_revenue</span><span class="p">,</span>
</span><span id="__span-43-6"><a href="#__codelineno-43-6" id="__codelineno-43-6" name="__codelineno-43-6"></a><span class="w">    </span><span class="n">STDDEV</span><span class="p">(</span><span class="n">value_number</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">revenue_stddev</span>
</span><span id="__span-43-7"><a href="#__codelineno-43-7" id="__codelineno-43-7" name="__codelineno-43-7"></a><span class="k">FROM</span><span class="w"> </span><span class="n">_check_profiles</span>
</span><span id="__span-43-8"><a href="#__codelineno-43-8" id="__codelineno-43-8" name="__codelineno-43-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'warehouse.hello.subscriptions'</span>
</span><span id="__span-43-9"><a href="#__codelineno-43-9" id="__codelineno-43-9" name="__codelineno-43-9"></a><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="k">column_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'mrr'</span>
</span><span id="__span-43-10"><a href="#__codelineno-43-10" id="__codelineno-43-10" name="__codelineno-43-10"></a><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">profile_type</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="s1">'avg'</span><span class="p">,</span><span class="w"> </span><span class="s1">'mean'</span><span class="p">,</span><span class="w"> </span><span class="s1">'average'</span><span class="p">,</span><span class="w"> </span><span class="s1">'avg_value'</span><span class="p">)</span>
</span><span id="__span-43-11"><a href="#__codelineno-43-11" id="__codelineno-43-11" name="__codelineno-43-11"></a><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">to_timestamp</span><span class="p">(</span><span class="n">profiled_at</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="k">CURRENT_DATE</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="s1">'30 days'</span><span class="p">;</span>
</span><span id="__span-43-12"><a href="#__codelineno-43-12" id="__codelineno-43-12" name="__codelineno-43-12"></a>
</span><span id="__span-43-13"><a href="#__codelineno-43-13" id="__codelineno-43-13" name="__codelineno-43-13"></a><span class="c1">-- Results:</span>
</span><span id="__span-43-14"><a href="#__codelineno-43-14" id="__codelineno-43-14" name="__codelineno-43-14"></a>
</span><span id="__span-43-15"><a href="#__codelineno-43-15" id="__codelineno-43-15" name="__codelineno-43-15"></a><span class="c1">-- min_revenue: 45000</span>
</span><span id="__span-43-16"><a href="#__codelineno-43-16" id="__codelineno-43-16" name="__codelineno-43-16"></a>
</span><span id="__span-43-17"><a href="#__codelineno-43-17" id="__codelineno-43-17" name="__codelineno-43-17"></a><span class="c1">-- max_revenue: 75000</span>
</span><span id="__span-43-18"><a href="#__codelineno-43-18" id="__codelineno-43-18" name="__codelineno-43-18"></a>
</span><span id="__span-43-19"><a href="#__codelineno-43-19" id="__codelineno-43-19" name="__codelineno-43-19"></a><span class="c1">-- typical_revenue: 58000</span>
</span><span id="__span-43-20"><a href="#__codelineno-43-20" id="__codelineno-43-20" name="__codelineno-43-20"></a>
</span><span id="__span-43-21"><a href="#__codelineno-43-21" id="__codelineno-43-21" name="__codelineno-43-21"></a><span class="c1">-- revenue_stddev: 6000</span>
</span></code></pre></div>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-44-1"><a href="#__codelineno-44-1" id="__codelineno-44-1" name="__codelineno-44-1"></a><span class="c1"># Step 3: Create checks based on observed patterns</span>
</span><span id="__span-44-2"><a href="#__codelineno-44-2" id="__codelineno-44-2" name="__codelineno-44-2"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-44-3"><a href="#__codelineno-44-3" id="__codelineno-44-3" name="__codelineno-44-3"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-44-4"><a href="#__codelineno-44-4" id="__codelineno-44-4" name="__codelineno-44-4"></a><span class="w">    </span><span class="nt">accuracy</span><span class="p">:</span>
</span><span id="__span-44-5"><a href="#__codelineno-44-5" id="__codelineno-44-5" name="__codelineno-44-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">avg(revenue) between 40000 and 80000</span><span class="p">:</span>
</span><span id="__span-44-6"><a href="#__codelineno-44-6" id="__codelineno-44-6" name="__codelineno-44-6"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">revenue_within_observed_range</span>
</span><span id="__span-44-7"><a href="#__codelineno-44-7" id="__codelineno-44-7" name="__codelineno-44-7"></a><span class="w">          </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-44-8"><a href="#__codelineno-44-8" id="__codelineno-44-8" name="__codelineno-44-8"></a><span class="w">            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Based</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">30-day</span><span class="nv"> </span><span class="s">historical</span><span class="nv"> </span><span class="s">analysis"</span>
</span><span id="__span-44-9"><a href="#__codelineno-44-9" id="__codelineno-44-9" name="__codelineno-44-9"></a>
</span><span id="__span-44-10"><a href="#__codelineno-44-10" id="__codelineno-44-10" name="__codelineno-44-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">anomaly detection for avg(revenue)</span><span class="p">:</span>
</span><span id="__span-44-11"><a href="#__codelineno-44-11" id="__codelineno-44-11" name="__codelineno-44-11"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">revenue_anomaly_detection</span>
</span></code></pre></div>
<p>Now your checks are informed by actual data patterns, not guesses. Much better!</p>
<h3 id="profile-best-practices">Profile Best Practices<a class="headerlink" href="#profile-best-practices" title="Link to this section">¶</a></h3>
<p><strong>DO:</strong></p>
<ul>
<li>
<p>Profile high-value production tables (the ones that matter)</p>
</li>
<li>
<p>Profile columns used in downstream analysis (if it's important, profile it)</p>
</li>
<li>
<p>Use profiles to understand new data sources (what does this data look like?)</p>
</li>
<li>
<p>Query profiles to detect data drift (is something changing?)</p>
</li>
<li>
<p>Use profiles to inform check thresholds (data-driven thresholds are better)</p>
</li>
</ul>
<p><strong>DON'T:</strong></p>
<ul>
<li>
<p>Profile sensitive/PII columns (privacy risk, be careful)</p>
</li>
<li>
<p>Profile every column (performance overhead, pick what matters)</p>
</li>
<li>
<p>Profile temporary/experimental models (waste of resources)</p>
</li>
<li>
<p>Use profiles as a replacement for checks (they serve different purposes)</p>
</li>
<li>
<p>Profile very high-frequency models (storage cost adds up)</p>
</li>
</ul>
<p><strong>When to use profiles:</strong></p>
<ul>
<li>
<p>Building new models (understand the data first)</p>
</li>
<li>
<p>Monitoring production tables (watch for changes)</p>
</li>
<li>
<p>Detecting data drift (is the data changing?)</p>
</li>
<li>
<p>Informing audit/check strategy (what should we check?)</p>
</li>
<li>
<p>Debugging data quality issues (what's normal vs abnormal?)</p>
</li>
</ul>
<p><strong>When to skip profiles:</strong></p>
<ul>
<li>
<p>Temporary models (they won't be around long)</p>
</li>
<li>
<p>Models with sensitive data (privacy concerns)</p>
</li>
<li>
<p>Very high-frequency models (&gt; 100 runs/day, storage costs)</p>
</li>
<li>
<p>Models where you only need pass/fail validation (profiles are overkill)</p>
</li>
</ul>
<h2 id="advanced-patterns">Advanced Patterns<a class="headerlink" href="#advanced-patterns" title="Link to this section">¶</a></h2>
<h3 id="cross-model-validation">Cross-Model Validation<a class="headerlink" href="#cross-model-validation" title="Link to this section">¶</a></h3>
<p>Validate relationships between models. This ensures referential integrity:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-45-1"><a href="#__codelineno-45-1" id="__codelineno-45-1" name="__codelineno-45-1"></a><span class="c1"># checks/cross_model.yml</span>
</span><span id="__span-45-2"><a href="#__codelineno-45-2" id="__codelineno-45-2" name="__codelineno-45-2"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-45-3"><a href="#__codelineno-45-3" id="__codelineno-45-3" name="__codelineno-45-3"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-45-4"><a href="#__codelineno-45-4" id="__codelineno-45-4" name="__codelineno-45-4"></a><span class="w">    </span><span class="nt">consistency</span><span class="p">:</span>
</span><span id="__span-45-5"><a href="#__codelineno-45-5" id="__codelineno-45-5" name="__codelineno-45-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-45-6"><a href="#__codelineno-45-6" id="__codelineno-45-6" name="__codelineno-45-6"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">orphaned_orders</span>
</span><span id="__span-45-7"><a href="#__codelineno-45-7" id="__codelineno-45-7" name="__codelineno-45-7"></a><span class="w">          </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-45-8"><a href="#__codelineno-45-8" id="__codelineno-45-8" name="__codelineno-45-8"></a><span class="w">            </span><span class="no">SELECT o.order_id, o.customer_id</span>
</span><span id="__span-45-9"><a href="#__codelineno-45-9" id="__codelineno-45-9" name="__codelineno-45-9"></a><span class="w">            </span><span class="no">FROM analytics.orders o</span>
</span><span id="__span-45-10"><a href="#__codelineno-45-10" id="__codelineno-45-10" name="__codelineno-45-10"></a><span class="w">            </span><span class="no">LEFT JOIN analytics.customers c ON o.customer_id = c.customer_id</span>
</span><span id="__span-45-11"><a href="#__codelineno-45-11" id="__codelineno-45-11" name="__codelineno-45-11"></a><span class="w">            </span><span class="no">WHERE c.customer_id IS NULL</span>
</span><span id="__span-45-12"><a href="#__codelineno-45-12" id="__codelineno-45-12" name="__codelineno-45-12"></a><span class="w">          </span><span class="nt">samples limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span><span id="__span-45-13"><a href="#__codelineno-45-13" id="__codelineno-45-13" name="__codelineno-45-13"></a><span class="w">          </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-45-14"><a href="#__codelineno-45-14" id="__codelineno-45-14" name="__codelineno-45-14"></a><span class="w">            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"All</span><span class="nv"> </span><span class="s">orders</span><span class="nv"> </span><span class="s">must</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">valid</span><span class="nv"> </span><span class="s">customer"</span>
</span><span id="__span-45-15"><a href="#__codelineno-45-15" id="__codelineno-45-15" name="__codelineno-45-15"></a>
</span><span id="__span-45-16"><a href="#__codelineno-45-16" id="__codelineno-45-16" name="__codelineno-45-16"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-45-17"><a href="#__codelineno-45-17" id="__codelineno-45-17" name="__codelineno-45-17"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">revenue_mismatch</span>
</span><span id="__span-45-18"><a href="#__codelineno-45-18" id="__codelineno-45-18" name="__codelineno-45-18"></a><span class="w">          </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-45-19"><a href="#__codelineno-45-19" id="__codelineno-45-19" name="__codelineno-45-19"></a><span class="w">            </span><span class="no">SELECT</span>
</span><span id="__span-45-20"><a href="#__codelineno-45-20" id="__codelineno-45-20" name="__codelineno-45-20"></a><span class="w">              </span><span class="no">o.order_id,</span>
</span><span id="__span-45-21"><a href="#__codelineno-45-21" id="__codelineno-45-21" name="__codelineno-45-21"></a><span class="w">              </span><span class="no">o.revenue as order_revenue,</span>
</span><span id="__span-45-22"><a href="#__codelineno-45-22" id="__codelineno-45-22" name="__codelineno-45-22"></a><span class="w">              </span><span class="no">r.revenue as revenue_table_revenue</span>
</span><span id="__span-45-23"><a href="#__codelineno-45-23" id="__codelineno-45-23" name="__codelineno-45-23"></a><span class="w">            </span><span class="no">FROM analytics.orders o</span>
</span><span id="__span-45-24"><a href="#__codelineno-45-24" id="__codelineno-45-24" name="__codelineno-45-24"></a><span class="w">            </span><span class="no">JOIN analytics.revenue r ON o.order_id = r.order_id</span>
</span><span id="__span-45-25"><a href="#__codelineno-45-25" id="__codelineno-45-25" name="__codelineno-45-25"></a><span class="w">            </span><span class="no">WHERE ABS(o.revenue - r.revenue) &gt; 0.01</span>
</span></code></pre></div>
<p>The first check finds orders without valid customers (orphaned records). The second ensures revenue matches across tables (consistency check).</p>
<h3 id="time-based-validation">Time-Based Validation<a class="headerlink" href="#time-based-validation" title="Link to this section">¶</a></h3>
<p>Ensure data timeliness. Is your data fresh? Are updates happening on schedule?</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-46-1"><a href="#__codelineno-46-1" id="__codelineno-46-1" name="__codelineno-46-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-46-2"><a href="#__codelineno-46-2" id="__codelineno-46-2" name="__codelineno-46-2"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-46-3"><a href="#__codelineno-46-3" id="__codelineno-46-3" name="__codelineno-46-3"></a><span class="w">    </span><span class="nt">timeliness</span><span class="p">:</span>
</span><span id="__span-46-4"><a href="#__codelineno-46-4" id="__codelineno-46-4" name="__codelineno-46-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-46-5"><a href="#__codelineno-46-5" id="__codelineno-46-5" name="__codelineno-46-5"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">stale_data</span>
</span><span id="__span-46-6"><a href="#__codelineno-46-6" id="__codelineno-46-6" name="__codelineno-46-6"></a><span class="w">          </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-46-7"><a href="#__codelineno-46-7" id="__codelineno-46-7" name="__codelineno-46-7"></a><span class="w">            </span><span class="no">SELECT *</span>
</span><span id="__span-46-8"><a href="#__codelineno-46-8" id="__codelineno-46-8" name="__codelineno-46-8"></a><span class="w">            </span><span class="no">FROM analytics.orders</span>
</span><span id="__span-46-9"><a href="#__codelineno-46-9" id="__codelineno-46-9" name="__codelineno-46-9"></a><span class="w">            </span><span class="no">WHERE updated_at &lt; CURRENT_TIMESTAMP - INTERVAL '24 hours'</span>
</span><span id="__span-46-10"><a href="#__codelineno-46-10" id="__codelineno-46-10" name="__codelineno-46-10"></a><span class="w">              </span><span class="no">AND status != 'completed'</span>
</span><span id="__span-46-11"><a href="#__codelineno-46-11" id="__codelineno-46-11" name="__codelineno-46-11"></a><span class="w">          </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-46-12"><a href="#__codelineno-46-12" id="__codelineno-46-12" name="__codelineno-46-12"></a><span class="w">            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Pending</span><span class="nv"> </span><span class="s">orders</span><span class="nv"> </span><span class="s">should</span><span class="nv"> </span><span class="s">update</span><span class="nv"> </span><span class="s">within</span><span class="nv"> </span><span class="s">24</span><span class="nv"> </span><span class="s">hours"</span>
</span><span id="__span-46-13"><a href="#__codelineno-46-13" id="__codelineno-46-13" name="__codelineno-46-13"></a>
</span><span id="__span-46-14"><a href="#__codelineno-46-14" id="__codelineno-46-14" name="__codelineno-46-14"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-46-15"><a href="#__codelineno-46-15" id="__codelineno-46-15" name="__codelineno-46-15"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">future_dates</span>
</span><span id="__span-46-16"><a href="#__codelineno-46-16" id="__codelineno-46-16" name="__codelineno-46-16"></a><span class="w">          </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-46-17"><a href="#__codelineno-46-17" id="__codelineno-46-17" name="__codelineno-46-17"></a><span class="w">            </span><span class="no">SELECT *</span>
</span><span id="__span-46-18"><a href="#__codelineno-46-18" id="__codelineno-46-18" name="__codelineno-46-18"></a><span class="w">            </span><span class="no">FROM analytics.orders</span>
</span><span id="__span-46-19"><a href="#__codelineno-46-19" id="__codelineno-46-19" name="__codelineno-46-19"></a><span class="w">            </span><span class="no">WHERE order_date &gt; CURRENT_DATE</span>
</span></code></pre></div>
<p>The first check finds stale pending orders (maybe something's stuck). The second catches future dates (data entry errors).</p>
<h3 id="statistical-outlier-detection">Statistical Outlier Detection<a class="headerlink" href="#statistical-outlier-detection" title="Link to this section">¶</a></h3>
<p>Custom outlier detection using SQL. Sometimes you need more control than anomaly detection provides:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-47-1"><a href="#__codelineno-47-1" id="__codelineno-47-1" name="__codelineno-47-1"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-47-2"><a href="#__codelineno-47-2" id="__codelineno-47-2" name="__codelineno-47-2"></a><span class="w">  </span><span class="nt">analytics.revenue</span><span class="p">:</span>
</span><span id="__span-47-3"><a href="#__codelineno-47-3" id="__codelineno-47-3" name="__codelineno-47-3"></a><span class="w">    </span><span class="nt">accuracy</span><span class="p">:</span>
</span><span id="__span-47-4"><a href="#__codelineno-47-4" id="__codelineno-47-4" name="__codelineno-47-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-47-5"><a href="#__codelineno-47-5" id="__codelineno-47-5" name="__codelineno-47-5"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">revenue_outliers</span>
</span><span id="__span-47-6"><a href="#__codelineno-47-6" id="__codelineno-47-6" name="__codelineno-47-6"></a><span class="w">          </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-47-7"><a href="#__codelineno-47-7" id="__codelineno-47-7" name="__codelineno-47-7"></a><span class="w">            </span><span class="no">WITH stats AS (</span>
</span><span id="__span-47-8"><a href="#__codelineno-47-8" id="__codelineno-47-8" name="__codelineno-47-8"></a><span class="w">              </span><span class="no">SELECT</span>
</span><span id="__span-47-9"><a href="#__codelineno-47-9" id="__codelineno-47-9" name="__codelineno-47-9"></a><span class="w">                </span><span class="no">AVG(revenue) as mean,</span>
</span><span id="__span-47-10"><a href="#__codelineno-47-10" id="__codelineno-47-10" name="__codelineno-47-10"></a><span class="w">                </span><span class="no">STDDEV(revenue) as stddev</span>
</span><span id="__span-47-11"><a href="#__codelineno-47-11" id="__codelineno-47-11" name="__codelineno-47-11"></a><span class="w">              </span><span class="no">FROM analytics.revenue</span>
</span><span id="__span-47-12"><a href="#__codelineno-47-12" id="__codelineno-47-12" name="__codelineno-47-12"></a><span class="w">            </span><span class="no">)</span>
</span><span id="__span-47-13"><a href="#__codelineno-47-13" id="__codelineno-47-13" name="__codelineno-47-13"></a><span class="w">            </span><span class="no">SELECT r.*,</span>
</span><span id="__span-47-14"><a href="#__codelineno-47-14" id="__codelineno-47-14" name="__codelineno-47-14"></a><span class="w">              </span><span class="no">(r.revenue - s.mean) / s.stddev as z_score</span>
</span><span id="__span-47-15"><a href="#__codelineno-47-15" id="__codelineno-47-15" name="__codelineno-47-15"></a><span class="w">            </span><span class="no">FROM analytics.revenue r, stats s</span>
</span><span id="__span-47-16"><a href="#__codelineno-47-16" id="__codelineno-47-16" name="__codelineno-47-16"></a><span class="w">            </span><span class="no">WHERE ABS((r.revenue - s.mean) / s.stddev) &gt; 3</span>
</span><span id="__span-47-17"><a href="#__codelineno-47-17" id="__codelineno-47-17" name="__codelineno-47-17"></a><span class="w">          </span><span class="nt">samples limit</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
</span></code></pre></div>
<p>This finds rows where revenue is more than 3 standard deviations from the mean (classic outlier detection). The z-score tells you how extreme each outlier is.</p>
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Link to this section">¶</a></h2>
<h3 id="check-organization">Check Organization<a class="headerlink" href="#check-organization" title="Link to this section">¶</a></h3>
<p>Organize your checks in a way that makes sense for your team. Here are two common approaches:</p>
<p><strong>By domain:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-48-1"><a href="#__codelineno-48-1" id="__codelineno-48-1" name="__codelineno-48-1"></a>checks/
</span><span id="__span-48-2"><a href="#__codelineno-48-2" id="__codelineno-48-2" name="__codelineno-48-2"></a>├── customers/
</span><span id="__span-48-3"><a href="#__codelineno-48-3" id="__codelineno-48-3" name="__codelineno-48-3"></a>│   ├── completeness.yml
</span><span id="__span-48-4"><a href="#__codelineno-48-4" id="__codelineno-48-4" name="__codelineno-48-4"></a>│   ├── validity.yml
</span><span id="__span-48-5"><a href="#__codelineno-48-5" id="__codelineno-48-5" name="__codelineno-48-5"></a>│   └── consistency.yml
</span><span id="__span-48-6"><a href="#__codelineno-48-6" id="__codelineno-48-6" name="__codelineno-48-6"></a>├── orders/
</span><span id="__span-48-7"><a href="#__codelineno-48-7" id="__codelineno-48-7" name="__codelineno-48-7"></a>│   ├── completeness.yml
</span><span id="__span-48-8"><a href="#__codelineno-48-8" id="__codelineno-48-8" name="__codelineno-48-8"></a>│   └── timeliness.yml
</span><span id="__span-48-9"><a href="#__codelineno-48-9" id="__codelineno-48-9" name="__codelineno-48-9"></a>└── revenue/
</span><span id="__span-48-10"><a href="#__codelineno-48-10" id="__codelineno-48-10" name="__codelineno-48-10"></a>    └── accuracy.yml
</span></code></pre></div>
<p><strong>By priority:</strong></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-49-1"><a href="#__codelineno-49-1" id="__codelineno-49-1" name="__codelineno-49-1"></a>checks/
</span><span id="__span-49-2"><a href="#__codelineno-49-2" id="__codelineno-49-2" name="__codelineno-49-2"></a>├── critical.yml      # Must never fail
</span><span id="__span-49-3"><a href="#__codelineno-49-3" id="__codelineno-49-3" name="__codelineno-49-3"></a>├── important.yml     # Should rarely fail
</span><span id="__span-49-4"><a href="#__codelineno-49-4" id="__codelineno-49-4" name="__codelineno-49-4"></a>├── monitoring.yml    # Track trends
</span><span id="__span-49-5"><a href="#__codelineno-49-5" id="__codelineno-49-5" name="__codelineno-49-5"></a>└── experimental.yml  # Testing new checks
</span></code></pre></div>
<p>Pick whatever works for your team. The important thing is consistency, if everyone knows where to find things, life is easier.</p>
<h3 id="naming-conventions">Naming Conventions<a class="headerlink" href="#naming-conventions" title="Link to this section">¶</a></h3>
<p><strong>Use descriptive names:</strong></p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-50-1"><a href="#__codelineno-50-1" id="__codelineno-50-1" name="__codelineno-50-1"></a><span class="c1"># Bad - what does "check1" tell you?</span>
</span><span id="__span-50-2"><a href="#__codelineno-50-2" id="__codelineno-50-2" name="__codelineno-50-2"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-50-3"><a href="#__codelineno-50-3" id="__codelineno-50-3" name="__codelineno-50-3"></a><span class="w">  </span><span class="nt">analytics.customers</span><span class="p">:</span>
</span><span id="__span-50-4"><a href="#__codelineno-50-4" id="__codelineno-50-4" name="__codelineno-50-4"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-50-5"><a href="#__codelineno-50-5" id="__codelineno-50-5" name="__codelineno-50-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">missing_count(email) = 0</span><span class="p">:</span>
</span><span id="__span-50-6"><a href="#__codelineno-50-6" id="__codelineno-50-6" name="__codelineno-50-6"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">check1</span>
</span><span id="__span-50-7"><a href="#__codelineno-50-7" id="__codelineno-50-7" name="__codelineno-50-7"></a>
</span><span id="__span-50-8"><a href="#__codelineno-50-8" id="__codelineno-50-8" name="__codelineno-50-8"></a><span class="c1"># Good - clear and descriptive</span>
</span><span id="__span-50-9"><a href="#__codelineno-50-9" id="__codelineno-50-9" name="__codelineno-50-9"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-50-10"><a href="#__codelineno-50-10" id="__codelineno-50-10" name="__codelineno-50-10"></a><span class="w">  </span><span class="nt">analytics.customers</span><span class="p">:</span>
</span><span id="__span-50-11"><a href="#__codelineno-50-11" id="__codelineno-50-11" name="__codelineno-50-11"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-50-12"><a href="#__codelineno-50-12" id="__codelineno-50-12" name="__codelineno-50-12"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">missing_count(email) = 0</span><span class="p">:</span>
</span><span id="__span-50-13"><a href="#__codelineno-50-13" id="__codelineno-50-13" name="__codelineno-50-13"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">no_missing_customer_emails</span>
</span><span id="__span-50-14"><a href="#__codelineno-50-14" id="__codelineno-50-14" name="__codelineno-50-14"></a><span class="w">          </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-50-15"><a href="#__codelineno-50-15" id="__codelineno-50-15" name="__codelineno-50-15"></a><span class="w">            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"All</span><span class="nv"> </span><span class="s">customers</span><span class="nv"> </span><span class="s">must</span><span class="nv"> </span><span class="s">have</span><span class="nv"> </span><span class="s">an</span><span class="nv"> </span><span class="s">email</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">marketing"</span>
</span></code></pre></div>
<p><strong>Naming pattern:</strong></p>
<ul>
<li>
<p><code>&lt;dimension&gt;_&lt;what&gt;_&lt;constraint&gt;</code> or <code>&lt;what&gt;_&lt;constraint&gt;</code></p>
</li>
<li>
<p>Examples:</p>
</li>
<li>
<p><code>completeness_email_required</code> or <code>no_missing_emails</code></p>
</li>
<li>
<p><code>validity_email_format</code> or <code>valid_email_format</code></p>
</li>
<li>
<p><code>uniqueness_email_no_duplicates</code> or <code>unique_emails</code></p>
</li>
<li>
<p><code>timeliness_order_within_24hrs</code> or <code>orders_update_daily</code></p>
</li>
</ul>
<p>The key is that someone reading the name should understand what it checks without looking at the code.</p>
<h3 id="threshold-selection">Threshold Selection<a class="headerlink" href="#threshold-selection" title="Link to this section">¶</a></h3>
<p><strong>Start conservative, adjust based on data:</strong></p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-51-1"><a href="#__codelineno-51-1" id="__codelineno-51-1" name="__codelineno-51-1"></a><span class="c1"># Step 1: Start with wide range</span>
</span><span id="__span-51-2"><a href="#__codelineno-51-2" id="__codelineno-51-2" name="__codelineno-51-2"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-51-3"><a href="#__codelineno-51-3" id="__codelineno-51-3" name="__codelineno-51-3"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-51-4"><a href="#__codelineno-51-4" id="__codelineno-51-4" name="__codelineno-51-4"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-51-5"><a href="#__codelineno-51-5" id="__codelineno-51-5" name="__codelineno-51-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">row_count &gt; 100</span><span class="p">:</span>
</span><span id="__span-51-6"><a href="#__codelineno-51-6" id="__codelineno-51-6" name="__codelineno-51-6"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sufficient_orders_v1</span>
</span><span id="__span-51-7"><a href="#__codelineno-51-7" id="__codelineno-51-7" name="__codelineno-51-7"></a>
</span><span id="__span-51-8"><a href="#__codelineno-51-8" id="__codelineno-51-8" name="__codelineno-51-8"></a><span class="c1"># Step 2: Monitor for 30 days, see actual range: 5000-10000</span>
</span><span id="__span-51-9"><a href="#__codelineno-51-9" id="__codelineno-51-9" name="__codelineno-51-9"></a>
</span><span id="__span-51-10"><a href="#__codelineno-51-10" id="__codelineno-51-10" name="__codelineno-51-10"></a><span class="c1"># Step 3: Tighten based on observed patterns</span>
</span><span id="__span-51-11"><a href="#__codelineno-51-11" id="__codelineno-51-11" name="__codelineno-51-11"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-51-12"><a href="#__codelineno-51-12" id="__codelineno-51-12" name="__codelineno-51-12"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-51-13"><a href="#__codelineno-51-13" id="__codelineno-51-13" name="__codelineno-51-13"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-51-14"><a href="#__codelineno-51-14" id="__codelineno-51-14" name="__codelineno-51-14"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">row_count between 4000 and 12000</span><span class="p">:</span>
</span><span id="__span-51-15"><a href="#__codelineno-51-15" id="__codelineno-51-15" name="__codelineno-51-15"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sufficient_orders_v2</span>
</span><span id="__span-51-16"><a href="#__codelineno-51-16" id="__codelineno-51-16" name="__codelineno-51-16"></a><span class="w">          </span><span class="nt">attributes</span><span class="p">:</span>
</span><span id="__span-51-17"><a href="#__codelineno-51-17" id="__codelineno-51-17" name="__codelineno-51-17"></a><span class="w">            </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">"Based</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">30-day</span><span class="nv"> </span><span class="s">historical</span><span class="nv"> </span><span class="s">analysis"</span>
</span></code></pre></div>
<p>Don't set thresholds based on guesses, let the data tell you what's normal. Use profiles to understand your data first, then set checks based on what you learn.</p>
<p><strong>Use profiles to inform thresholds:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-52-1"><a href="#__codelineno-52-1" id="__codelineno-52-1" name="__codelineno-52-1"></a><span class="c1">-- Query profiles to understand your data</span>
</span><span id="__span-52-2"><a href="#__codelineno-52-2" id="__codelineno-52-2" name="__codelineno-52-2"></a><span class="k">SELECT</span>
</span><span id="__span-52-3"><a href="#__codelineno-52-3" id="__codelineno-52-3" name="__codelineno-52-3"></a><span class="w">  </span><span class="k">MIN</span><span class="p">(</span><span class="n">value_number</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">min_observed</span><span class="p">,</span>
</span><span id="__span-52-4"><a href="#__codelineno-52-4" id="__codelineno-52-4" name="__codelineno-52-4"></a><span class="w">  </span><span class="k">MAX</span><span class="p">(</span><span class="n">value_number</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">max_observed</span><span class="p">,</span>
</span><span id="__span-52-5"><a href="#__codelineno-52-5" id="__codelineno-52-5" name="__codelineno-52-5"></a><span class="w">  </span><span class="k">AVG</span><span class="p">(</span><span class="n">value_number</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">typical</span><span class="p">,</span>
</span><span id="__span-52-6"><a href="#__codelineno-52-6" id="__codelineno-52-6" name="__codelineno-52-6"></a><span class="w">  </span><span class="n">STDDEV</span><span class="p">(</span><span class="n">value_number</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">stddev</span>
</span><span id="__span-52-7"><a href="#__codelineno-52-7" id="__codelineno-52-7" name="__codelineno-52-7"></a><span class="k">FROM</span><span class="w"> </span><span class="n">check_results</span>
</span><span id="__span-52-8"><a href="#__codelineno-52-8" id="__codelineno-52-8" name="__codelineno-52-8"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">check_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'row_count'</span>
</span><span id="__span-52-9"><a href="#__codelineno-52-9" id="__codelineno-52-9" name="__codelineno-52-9"></a><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">executed_at</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="k">CURRENT_DATE</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="s1">'90 days'</span><span class="p">;</span>
</span><span id="__span-52-10"><a href="#__codelineno-52-10" id="__codelineno-52-10" name="__codelineno-52-10"></a>
</span><span id="__span-52-11"><a href="#__codelineno-52-11" id="__codelineno-52-11" name="__codelineno-52-11"></a><span class="c1">-- Set threshold as: typical ± 3*stddev</span>
</span></code></pre></div>
<p>This gives you data-driven thresholds instead of wild guesses. Much better!</p>
<h3 id="integration-strategy">Integration Strategy<a class="headerlink" href="#integration-strategy" title="Link to this section">¶</a></h3>
<p><strong>Layer validation:</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-53-1"><a href="#__codelineno-53-1" id="__codelineno-53-1" name="__codelineno-53-1"></a><span class="c1">-- LAYER 1: Audits (critical - blocks)</span>
</span><span id="__span-53-2"><a href="#__codelineno-53-2" id="__codelineno-53-2" name="__codelineno-53-2"></a>
</span><span id="__span-53-3"><a href="#__codelineno-53-3" id="__codelineno-53-3" name="__codelineno-53-3"></a><span class="c1">-- Stop bad data at the door</span>
</span><span id="__span-53-4"><a href="#__codelineno-53-4" id="__codelineno-53-4" name="__codelineno-53-4"></a><span class="n">MODEL</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-53-5"><a href="#__codelineno-53-5" id="__codelineno-53-5" name="__codelineno-53-5"></a><span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="n">analytics</span><span class="p">.</span><span class="n">orders</span><span class="p">,</span>
</span><span id="__span-53-6"><a href="#__codelineno-53-6" id="__codelineno-53-6" name="__codelineno-53-6"></a><span class="w">  </span><span class="n">assertions</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-53-7"><a href="#__codelineno-53-7" id="__codelineno-53-7" name="__codelineno-53-7"></a><span class="w">    </span><span class="n">not_null</span><span class="p">(</span><span class="n">columns</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">order_id</span><span class="p">,</span><span class="w"> </span><span class="n">customer_id</span><span class="p">)),</span>
</span><span id="__span-53-8"><a href="#__codelineno-53-8" id="__codelineno-53-8" name="__codelineno-53-8"></a><span class="w">    </span><span class="n">unique_values</span><span class="p">(</span><span class="n">columns</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">order_id</span><span class="p">))</span>
</span><span id="__span-53-9"><a href="#__codelineno-53-9" id="__codelineno-53-9" name="__codelineno-53-9"></a><span class="w">  </span><span class="p">)</span>
</span><span id="__span-53-10"><a href="#__codelineno-53-10" id="__codelineno-53-10" name="__codelineno-53-10"></a><span class="p">);</span>
</span></code></pre></div>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-54-1"><a href="#__codelineno-54-1" id="__codelineno-54-1" name="__codelineno-54-1"></a><span class="c1"># LAYER 2: Checks (monitoring - warns)</span>
</span><span id="__span-54-2"><a href="#__codelineno-54-2" id="__codelineno-54-2" name="__codelineno-54-2"></a><span class="c1"># Watch for problems but don't block</span>
</span><span id="__span-54-3"><a href="#__codelineno-54-3" id="__codelineno-54-3" name="__codelineno-54-3"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-54-4"><a href="#__codelineno-54-4" id="__codelineno-54-4" name="__codelineno-54-4"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-54-5"><a href="#__codelineno-54-5" id="__codelineno-54-5" name="__codelineno-54-5"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-54-6"><a href="#__codelineno-54-6" id="__codelineno-54-6" name="__codelineno-54-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">row_count between 5000 and 15000</span><span class="p">:</span>
</span><span id="__span-54-7"><a href="#__codelineno-54-7" id="__codelineno-54-7" name="__codelineno-54-7"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">order_count_in_range</span>
</span><span id="__span-54-8"><a href="#__codelineno-54-8" id="__codelineno-54-8" name="__codelineno-54-8"></a>
</span><span id="__span-54-9"><a href="#__codelineno-54-9" id="__codelineno-54-9" name="__codelineno-54-9"></a><span class="w">    </span><span class="nt">timeliness</span><span class="p">:</span>
</span><span id="__span-54-10"><a href="#__codelineno-54-10" id="__codelineno-54-10" name="__codelineno-54-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">change for row_count &gt;= -30%</span><span class="p">:</span>
</span><span id="__span-54-11"><a href="#__codelineno-54-11" id="__codelineno-54-11" name="__codelineno-54-11"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">order_count_stable</span>
</span></code></pre></div>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-55-1"><a href="#__codelineno-55-1" id="__codelineno-55-1" name="__codelineno-55-1"></a><span class="c1">-- LAYER 3: Profiles (observe - tracks)</span>
</span><span id="__span-55-2"><a href="#__codelineno-55-2" id="__codelineno-55-2" name="__codelineno-55-2"></a>
</span><span id="__span-55-3"><a href="#__codelineno-55-3" id="__codelineno-55-3" name="__codelineno-55-3"></a><span class="c1">-- Just watch and learn</span>
</span><span id="__span-55-4"><a href="#__codelineno-55-4" id="__codelineno-55-4" name="__codelineno-55-4"></a><span class="n">MODEL</span><span class="w"> </span><span class="p">(</span>
</span><span id="__span-55-5"><a href="#__codelineno-55-5" id="__codelineno-55-5" name="__codelineno-55-5"></a><span class="w">  </span><span class="n">name</span><span class="w"> </span><span class="n">analytics</span><span class="p">.</span><span class="n">orders</span><span class="p">,</span>
</span><span id="__span-55-6"><a href="#__codelineno-55-6" id="__codelineno-55-6" name="__codelineno-55-6"></a><span class="w">  </span><span class="n">profiles</span><span class="w"> </span><span class="p">(</span><span class="n">order_count</span><span class="p">,</span><span class="w"> </span><span class="n">revenue</span><span class="p">,</span><span class="w"> </span><span class="n">customer_tier</span><span class="p">)</span>
</span><span id="__span-55-7"><a href="#__codelineno-55-7" id="__codelineno-55-7" name="__codelineno-55-7"></a><span class="p">);</span>
</span></code></pre></div>
<p>This three-layer approach gives you comprehensive data quality coverage: audits stop problems, checks warn about issues, and profiles help you understand what's normal.</p>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this section">¶</a></h2>
<h3 id="check-failures">Check Failures<a class="headerlink" href="#check-failures" title="Link to this section">¶</a></h3>
<h4 id="investigate-failed-check">Investigate failed check<a class="headerlink" href="#investigate-failed-check" title="Link to this section">¶</a></h4>
<p>When a check fails, you'll want to dig into why:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-56-1"><a href="#__codelineno-56-1" id="__codelineno-56-1" name="__codelineno-56-1"></a><span class="c1"># Run specific check with verbose output</span>
</span><span id="__span-56-2"><a href="#__codelineno-56-2" id="__codelineno-56-2" name="__codelineno-56-2"></a>vulcan<span class="w"> </span>check<span class="w"> </span>--select<span class="w"> </span>analytics.customers.invalid_emails<span class="w"> </span>--verbose
</span></code></pre></div>
<p>This gives you more details about what went wrong.</p>
<h4 id="query-failed-samples">Query failed samples<a class="headerlink" href="#query-failed-samples" title="Link to this section">¶</a></h4>
<p>If your check captures samples (like <code>failed rows</code> checks do), you can query them:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-57-1"><a href="#__codelineno-57-1" id="__codelineno-57-1" name="__codelineno-57-1"></a><span class="c1">-- Get samples from last failed run</span>
</span><span id="__span-57-2"><a href="#__codelineno-57-2" id="__codelineno-57-2" name="__codelineno-57-2"></a><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
</span><span id="__span-57-3"><a href="#__codelineno-57-3" id="__codelineno-57-3" name="__codelineno-57-3"></a><span class="k">FROM</span><span class="w"> </span><span class="n">check_samples</span>
</span><span id="__span-57-4"><a href="#__codelineno-57-4" id="__codelineno-57-4" name="__codelineno-57-4"></a><span class="k">WHERE</span><span class="w"> </span><span class="n">check_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'invalid_emails'</span>
</span><span id="__span-57-5"><a href="#__codelineno-57-5" id="__codelineno-57-5" name="__codelineno-57-5"></a><span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'failed'</span>
</span><span id="__span-57-6"><a href="#__codelineno-57-6" id="__codelineno-57-6" name="__codelineno-57-6"></a><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">executed_at</span><span class="w"> </span><span class="k">DESC</span>
</span><span id="__span-57-7"><a href="#__codelineno-57-7" id="__codelineno-57-7" name="__codelineno-57-7"></a><span class="k">LIMIT</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</span></code></pre></div>
<p>This shows you actual rows that failed for debugging.</p>
<h3 id="performance-issues">Performance Issues<a class="headerlink" href="#performance-issues" title="Link to this section">¶</a></h3>
<h4 id="slow-check-queries">Slow check queries<a class="headerlink" href="#slow-check-queries" title="Link to this section">¶</a></h4>
<p><strong>Problem:</strong> Check takes too long to run</p>
<p><strong>Solution 1: Add filters</strong></p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-58-1"><a href="#__codelineno-58-1" id="__codelineno-58-1" name="__codelineno-58-1"></a><span class="c1"># Slow - scans entire table</span>
</span><span id="__span-58-2"><a href="#__codelineno-58-2" id="__codelineno-58-2" name="__codelineno-58-2"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-58-3"><a href="#__codelineno-58-3" id="__codelineno-58-3" name="__codelineno-58-3"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-58-4"><a href="#__codelineno-58-4" id="__codelineno-58-4" name="__codelineno-58-4"></a><span class="w">    </span><span class="nt">validity</span><span class="p">:</span>
</span><span id="__span-58-5"><a href="#__codelineno-58-5" id="__codelineno-58-5" name="__codelineno-58-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-58-6"><a href="#__codelineno-58-6" id="__codelineno-58-6" name="__codelineno-58-6"></a><span class="w">          </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-58-7"><a href="#__codelineno-58-7" id="__codelineno-58-7" name="__codelineno-58-7"></a><span class="w">            </span><span class="no">SELECT * FROM analytics.orders</span>
</span><span id="__span-58-8"><a href="#__codelineno-58-8" id="__codelineno-58-8" name="__codelineno-58-8"></a><span class="w">            </span><span class="no">WHERE email NOT LIKE '%@%'</span>
</span><span id="__span-58-9"><a href="#__codelineno-58-9" id="__codelineno-58-9" name="__codelineno-58-9"></a>
</span><span id="__span-58-10"><a href="#__codelineno-58-10" id="__codelineno-58-10" name="__codelineno-58-10"></a><span class="c1"># Fast - filters to recent data</span>
</span><span id="__span-58-11"><a href="#__codelineno-58-11" id="__codelineno-58-11" name="__codelineno-58-11"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-58-12"><a href="#__codelineno-58-12" id="__codelineno-58-12" name="__codelineno-58-12"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-58-13"><a href="#__codelineno-58-13" id="__codelineno-58-13" name="__codelineno-58-13"></a><span class="w">    </span><span class="nt">filter</span><span class="p">:</span><span class="w"> </span><span class="s">"order_date</span><span class="nv"> </span><span class="s">&gt;=</span><span class="nv"> </span><span class="s">CURRENT_DATE</span><span class="nv"> </span><span class="s">-</span><span class="nv"> </span><span class="s">INTERVAL</span><span class="nv"> </span><span class="s">'30</span><span class="nv"> </span><span class="s">days'"</span>
</span><span id="__span-58-14"><a href="#__codelineno-58-14" id="__codelineno-58-14" name="__codelineno-58-14"></a><span class="w">    </span><span class="nt">validity</span><span class="p">:</span>
</span><span id="__span-58-15"><a href="#__codelineno-58-15" id="__codelineno-58-15" name="__codelineno-58-15"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">failed rows</span><span class="p">:</span>
</span><span id="__span-58-16"><a href="#__codelineno-58-16" id="__codelineno-58-16" name="__codelineno-58-16"></a><span class="w">          </span><span class="nt">fail query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
</span><span id="__span-58-17"><a href="#__codelineno-58-17" id="__codelineno-58-17" name="__codelineno-58-17"></a><span class="w">            </span><span class="no">SELECT * FROM analytics.orders</span>
</span><span id="__span-58-18"><a href="#__codelineno-58-18" id="__codelineno-58-18" name="__codelineno-58-18"></a><span class="w">            </span><span class="no">WHERE email NOT LIKE '%@%'</span>
</span></code></pre></div>
<p>Filtering reduces the amount of data the check needs to scan, which makes it faster.</p>
<p><strong>Solution 2: Add indexes</strong></p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-59-1"><a href="#__codelineno-59-1" id="__codelineno-59-1" name="__codelineno-59-1"></a><span class="c1">-- Add index on frequently checked columns</span>
</span><span id="__span-59-2"><a href="#__codelineno-59-2" id="__codelineno-59-2" name="__codelineno-59-2"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_orders_email</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">analytics</span><span class="p">.</span><span class="n">orders</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
</span><span id="__span-59-3"><a href="#__codelineno-59-3" id="__codelineno-59-3" name="__codelineno-59-3"></a><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">idx_orders_order_date</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">analytics</span><span class="p">.</span><span class="n">orders</span><span class="p">(</span><span class="n">order_date</span><span class="p">);</span>
</span></code></pre></div>
<p>Indexes help queries run faster, especially for <code>failed rows</code> checks that filter on specific columns.</p>
<h3 id="false-positives">False Positives<a class="headerlink" href="#false-positives" title="Link to this section">¶</a></h3>
<h4 id="threshold-too-strict">Threshold too strict<a class="headerlink" href="#threshold-too-strict" title="Link to this section">¶</a></h4>
<p><strong>Problem:</strong> Check fails during normal variance</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-60-1"><a href="#__codelineno-60-1" id="__codelineno-60-1" name="__codelineno-60-1"></a><span class="c1"># Too strict - exact match is unrealistic</span>
</span><span id="__span-60-2"><a href="#__codelineno-60-2" id="__codelineno-60-2" name="__codelineno-60-2"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-60-3"><a href="#__codelineno-60-3" id="__codelineno-60-3" name="__codelineno-60-3"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-60-4"><a href="#__codelineno-60-4" id="__codelineno-60-4" name="__codelineno-60-4"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-60-5"><a href="#__codelineno-60-5" id="__codelineno-60-5" name="__codelineno-60-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count = 10000</span><span class="w">  </span><span class="c1"># Exact match</span>
</span><span id="__span-60-6"><a href="#__codelineno-60-6" id="__codelineno-60-6" name="__codelineno-60-6"></a>
</span><span id="__span-60-7"><a href="#__codelineno-60-7" id="__codelineno-60-7" name="__codelineno-60-7"></a><span class="c1"># Allow variance - more realistic</span>
</span><span id="__span-60-8"><a href="#__codelineno-60-8" id="__codelineno-60-8" name="__codelineno-60-8"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-60-9"><a href="#__codelineno-60-9" id="__codelineno-60-9" name="__codelineno-60-9"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-60-10"><a href="#__codelineno-60-10" id="__codelineno-60-10" name="__codelineno-60-10"></a><span class="w">    </span><span class="nt">completeness</span><span class="p">:</span>
</span><span id="__span-60-11"><a href="#__codelineno-60-11" id="__codelineno-60-11" name="__codelineno-60-11"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count between 9000 and 11000</span><span class="w">  </span><span class="c1"># ±10% variance</span>
</span></code></pre></div>
<p>Real data has variance. Don't set thresholds that are too strict, you'll just get false positives.</p>
<h4 id="use-anomaly-detection-instead">Use anomaly detection instead<a class="headerlink" href="#use-anomaly-detection-instead" title="Link to this section">¶</a></h4>
<p>Sometimes strict thresholds aren't the right approach:</p>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-61-1"><a href="#__codelineno-61-1" id="__codelineno-61-1" name="__codelineno-61-1"></a><span class="c1"># Replace strict threshold with ML-based detection</span>
</span><span id="__span-61-2"><a href="#__codelineno-61-2" id="__codelineno-61-2" name="__codelineno-61-2"></a><span class="nt">checks</span><span class="p">:</span>
</span><span id="__span-61-3"><a href="#__codelineno-61-3" id="__codelineno-61-3" name="__codelineno-61-3"></a><span class="w">  </span><span class="nt">analytics.orders</span><span class="p">:</span>
</span><span id="__span-61-4"><a href="#__codelineno-61-4" id="__codelineno-61-4" name="__codelineno-61-4"></a><span class="w">    </span><span class="nt">accuracy</span><span class="p">:</span>
</span><span id="__span-61-5"><a href="#__codelineno-61-5" id="__codelineno-61-5" name="__codelineno-61-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">anomaly detection for row_count</span><span class="p">:</span>
</span><span id="__span-61-6"><a href="#__codelineno-61-6" id="__codelineno-61-6" name="__codelineno-61-6"></a><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">row_count_anomaly</span>
</span></code></pre></div>
<p>Anomaly detection learns what's normal and adapts to variance, which reduces false positives.</p>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Link to this section">¶</a></h2>
<p>Quality checks provide a comprehensive way to monitor data quality over time without blocking your models. Here's what we covered:</p>
<h3 id="core-concepts">Core Concepts<a class="headerlink" href="#core-concepts" title="Link to this section">¶</a></h3>
<p><strong>1. Quality Checks</strong>
- YAML-configured validation rules</p>
<ul>
<li>
<p>Non-blocking (don't stop models)</p>
</li>
<li>
<p>Track trends over time</p>
</li>
<li>
<p>Integrate with Activity API</p>
</li>
</ul>
<p><strong>2. Check Types</strong>
- Missing data checks (<code>missing_count</code>, <code>missing_percent</code>)</p>
<ul>
<li>
<p>Row count checks (<code>row_count</code>)</p>
</li>
<li>
<p>Duplicate checks (<code>duplicate_count</code>)</p>
</li>
<li>
<p>Failed rows (SQL-based, flexible)</p>
</li>
<li>
<p>Anomaly detection (ML-based, learns from history)</p>
</li>
<li>
<p>Change monitoring (compare to previous runs)</p>
</li>
</ul>
<p><strong>3. Data Profiling</strong>
- Automatic statistical metric collection</p>
<ul>
<li>
<p>Stored in <code>_check_profiles</code> table</p>
</li>
<li>
<p>Observe patterns without validation</p>
</li>
<li>
<p>Inform check threshold selection</p>
</li>
</ul>
<p><strong>4. Data Quality Strategy</strong>
- <strong>Audits</strong> - Critical, blocking (stop bad data)</p>
<ul>
<li>
<p><strong>Checks</strong> - Monitoring, non-blocking (watch for problems)</p>
</li>
<li>
<p><strong>Profiles</strong> - Observation, tracking (understand what's normal)</p>
</li>
</ul>
<p>Remember: start simple, use profiles to understand your data, then create checks based on what you learn. And don't forget, checks are there to help you, not stress you out. If a check is giving you too many false positives, adjust the threshold or switch to anomaly detection. The goal is better data quality, not perfect check scores.</p>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Audits" class="md-footer__link md-footer__link--prev" href="../../audits/audits/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                Audits
              </div>
</div>
</a>
<a aria-label="Next: Overview" class="md-footer__link md-footer__link--next" href="../../semantics/overview/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                Overview
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Copyright © 2025 DataOS Vulcan Team<br/>
<small>Complete stack for building data products</small>
</div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/tmdc-io/vulcan-book" rel="noopener" target="_blank" title="github.com">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<div class="md-progress" data-md-component="progress" role="progressbar"></div>
<script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking", "navigation.indexes", "navigation.path", "navigation.top", "navigation.footer", "toc.follow", "search.highlight", "search.suggest", "search.share", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.tooltips"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
<script src="../../../assets/javascripts/mermaid-zoom.js"></script>
<script src="../../../assets/javascripts/favicon-switcher.js"></script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>